[
  {
    "__docId__": 0,
    "kind": "file",
    "name": "src/bin/cli.js",
    "content": "const { genesisBlock } = require('./../lib/blockchain');\r\nconst core = require('./../core');;\r\nconst block = genesisBlock();\r\nconsole.log(block.hash, Buffer(JSON.stringify(block)));\r\nswitch (process.argv[2]) {\r\n  case 'init':\r\n    const block = genesisBlock();\r\n    ipfs.dag.put(block, {cid: block.hash})\r\n    break;\r\n}\r\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/bin/cli.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 1,
    "kind": "variable",
    "name": "genesisBlock",
    "memberof": "src/bin/cli.js",
    "static": true,
    "longname": "src/bin/cli.js~genesisBlock",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/bin/cli.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true
  },
  {
    "__docId__": 2,
    "kind": "variable",
    "name": "core",
    "memberof": "src/bin/cli.js",
    "static": true,
    "longname": "src/bin/cli.js~core",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/bin/cli.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true
  },
  {
    "__docId__": 3,
    "kind": "variable",
    "name": "block",
    "memberof": "src/bin/cli.js",
    "static": true,
    "longname": "src/bin/cli.js~block",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/bin/cli.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true
  },
  {
    "__docId__": 4,
    "kind": "file",
    "name": "src/bips/bip32.js",
    "content": "import networks from '../lib/networks';\nimport { generateMnemonic, mnemonicToSeed } from 'bip39';\nimport { createHmac } from 'crypto';\nimport { pointFromScalar } from 'tiny-secp256k1';\nconst PARENT_FINGERPRINT = 0x00000000;\n/**\n * @example\n * validateNetwork('name')\n * validateNetwork({ name, wif, bip32, messagePrefix })\n * validateNetwork({ wif, bip32, messagePrefix }, 'name')\n */\nconst validateNetwork = (network, name) => {\n\tif (!network) throw new ReferenceError('network undefined');\n\tif (typeof network === 'object') {\n\t\tif (!network.name && name) network.name = name;\n\t\telse throw ReferenceError('network name undefined');\n\t} else {\n\t\tname = network;\n\t\tnetwork = networks[network];\n\t\tnetwork.name = name;\n\t}\n\tif (!network.bip32 || !network.wif)\n\t\tthrow new ReferenceError(\n\t\t\t`magic ${network.bip32 ? 'wif': 'bip32'} prefix undefined`\n\t\t);\n\tif (!network.bip32.public || !network.bip32.private)\n\t\tthrow new ReferenceError(\n\t\t\t`magic ${network.bip32.public ? 'bip32.private': 'bip32.public'} prefix undefined`\n\t\t);\n\tif (!network.messagePrefix || !network.multiCodec)\n\t\tthrow new ReferenceError(\n\t\t\t`magic ${network.multiCodec ? 'messagePrefix' : 'multiCodec'} undefined`\n\t\t);\n\treturn network;\n};\n\nclass BIP32Interface {\n\t/**\n   * @param {object} options\n   * @example\n   * new BIP32Interface()\n   * new BIP32Interface({chainCode, masterKey, network})\n   * new BIP32Interface({publicKey})\n   */\n\tconstructor(options) {\n\t}\n\n\tfromSeed(seed, network) {\n  \tif (seed.length < 16) throw new TypeError('Seed should be at least 128 bits');\n  \tif (seed.length > 64) throw new TypeError('Seed should be at most 512 bits');\n  \tif (!Buffer.isBuffer(seed)) {\n  \t\tseed = Uint8Array(Buffer.from(seed));\n  \t}\n  \ttry {\n  \t\tconst network = validateNetwork(network);\n  \t\tconst hash = createHmac('sha512', network.multiCodec).update(seed).digest();\n\t\t\tconst masterKey = hash.slice(0, 32);\n\t\t\treturn {\n\t\t\t\tindex: 0,\n\t\t\t\tdepth: 0,\n\t\t\t\tparentFingerprint: PARENT_FINGERPRINT,\n\t\t\t\tchainCode: hash.slice(32),\n\t\t\t\tpublicKey: pointFromScalar(masterKey, true),\n\t\t\t\tmasterKey,\n\t\t\t\tnetwork\n\t\t\t};\n  \t} catch (e) {\n  \t\tthrow e;\n  \t}\n\t}\n\n\tinfoFromBuffer(buffer) {\n\t\treturn {\n\t\t\tversion: buffer.readUInt32BE(0),\n\t\t\tdepth: buffer[4],\n\t\t\tindex: buffer.readUInt32BE(9),\n\t\t\tchainCode: buffer.slice(13, 45),\n\t\t\tparentFingerprint: buffer.readUInt32BE(5)\n\t\t};\n\t}\n\n\tfromBase58(base58, network) {\n\t\tif (!base58) throw ReferenceError('base58 undefined');\n\t\ttry {\n\t\t\tconst network = validateNetwork(network);\n\t\t\tif (buffer.length !== 78) throw Error('Invalid buffer length');\n\t\t\tconst { bip32 } = network;\n\t\t\tconst {\n\t\t\t\tversion, index, depth, parentFingerprint, chainCode\n\t\t\t} = this.infoFromBuffer(buffer);\n\t\t\t// validate\n\t\t\tif (version !== bip32.private && version !== bip32.public)\n\t\t\t\tthrow TypeError('invalid network version');\n\n\t\t\tif (depth === 0 && parentFingerprint !== PARENT_FINGERPRINT)\n\t\t\t\tthrow TypeError('Invalid parent fingerprint');\n\n\t\t\tif (depth === 0 && index !== 0)\n\t\t\t\tthrow TypeError('Invalid index');\n\n\t\t\tif (version === bip32.private) {\n\t\t\t\tif (buffer.readUInt8(45) !== 0x00)\n\t\t\t\t\tthrow TypeError('Invalid private key');\n\n\t\t\t\tconst masterKey = buffer.slice(46, 78);\n\t\t\t\t// cleanup unrelated key\n\t\t\t\tdelete this.publicKey;\n\t\t\t\tthis._setProperties({\n\t\t\t\t\tmasterKey,chainCode, network, depth, index, parentFingerprint\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst publicKey = buffer.slice(45, 78);\n\t\t\t\t// cleanup unrelated key\n\t\t\t\tdelete this.masterKey;\n\t\t\t\tthis._setProperties({\n\t\t\t\t\tpublicKey, chainCode, network, depth, index, parentFingerprint\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tthrow e;\n\t\t}\n\t}\n\t// Buffer\n\t// version 0x0488b21f\n\t// depth 0x00 || 0x01 ...\n\t// index\n\n\ttoBase58({}) {\n\t\tconst version = this.masterKey ? this.network.bip32.private : this.network.bip32.public;\n\t\t// this.multiHD({\n\t\t//   this.masterKey,\n\t\t//   this.index,\n\t\t//   this.depth,\n\t\t//   this.parentFingerprint,\n\t\t//   publicKey: this.masterKey ? this.publicKey : null,\n\t\t//   version\n\t\t// })\n\n\t\tconst buffer = Buffer.allocUnsafe(78);\n\t\t// update buffer with version > depth > parentFingerprint >\n\t\tbuffer.writeUInt32(version, 0);\n\t\tbuffer.writeUInt8(this.depth, 4);\n\t\tbuffer.writeUInt32BE(this.parentFingerprint, 5);\n\t\tbuffer.writeUInt32BE(this.index, 9);\n\n\t\t// 32 bytes: the chain code\n\t\tthis.chainCode.copy(buffer, 13);\n\t\tif (this.masterKey) {\n\t\t\tbuffer.writeUInt8(0, 45);\n\t\t\tthis.masterKey.copy(buffer, 46);\n\t\t} else {\n\t\t\tthis.publicKey.copy(buffer, 45);\n\t\t}\n\t\treturn encode(buffer);\n\t}\n}\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/bips/bip32.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 5,
    "kind": "variable",
    "name": "PARENT_FINGERPRINT",
    "memberof": "src/bips/bip32.js",
    "static": true,
    "longname": "src/bips/bip32.js~PARENT_FINGERPRINT",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/bips/bip32.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true
  },
  {
    "__docId__": 6,
    "kind": "function",
    "name": "validateNetwork",
    "memberof": "src/bips/bip32.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/bips/bip32.js~validateNetwork",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/bips/bip32.js",
    "importStyle": null,
    "description": "",
    "examples": [
      "validateNetwork('name')\nvalidateNetwork({ name, wif, bip32, messagePrefix })\nvalidateNetwork({ wif, bip32, messagePrefix }, 'name')"
    ],
    "lineNumber": 12
  },
  {
    "__docId__": 7,
    "kind": "class",
    "name": "BIP32Interface",
    "memberof": "src/bips/bip32.js",
    "static": true,
    "longname": "src/bips/bip32.js~BIP32Interface",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/bips/bip32.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 37,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 8,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/bips/bip32.js~BIP32Interface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/bips/bip32.js~BIP32Interface#constructor",
    "access": null,
    "description": "",
    "examples": [
      "new BIP32Interface()\nnew BIP32Interface({chainCode, masterKey, network})\nnew BIP32Interface({publicKey})"
    ],
    "lineNumber": 45,
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 9,
    "kind": "method",
    "name": "fromSeed",
    "memberof": "src/bips/bip32.js~BIP32Interface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/bips/bip32.js~BIP32Interface#fromSeed",
    "access": null,
    "description": null,
    "lineNumber": 48,
    "undocument": true
  },
  {
    "__docId__": 10,
    "kind": "method",
    "name": "infoFromBuffer",
    "memberof": "src/bips/bip32.js~BIP32Interface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/bips/bip32.js~BIP32Interface#infoFromBuffer",
    "access": null,
    "description": null,
    "lineNumber": 72,
    "undocument": true
  },
  {
    "__docId__": 11,
    "kind": "method",
    "name": "fromBase58",
    "memberof": "src/bips/bip32.js~BIP32Interface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/bips/bip32.js~BIP32Interface#fromBase58",
    "access": null,
    "description": null,
    "lineNumber": 82,
    "undocument": true
  },
  {
    "__docId__": 12,
    "kind": "method",
    "name": "toBase58",
    "memberof": "src/bips/bip32.js~BIP32Interface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/bips/bip32.js~BIP32Interface#toBase58",
    "access": null,
    "description": null,
    "lineNumber": 128,
    "undocument": true
  },
  {
    "__docId__": 13,
    "kind": "file",
    "name": "src/controller.js",
    "content": "import EventEmitter from 'events';\nimport {createWatcher} from 'ip-monitor';\n\nclass Emitter extends EventEmitter {\n\tconstructor(ipfs) {\n\t\tsuper();\n    this.ipfs = ipfs;\n\t\t// bind methods\n\t\tthis._announceAddress = this._announceAddress.bind(this);\n\t\t// this._onBlockAdded = this._onBlockAdded.bind(this);\n\t\t// setup ip monitor\n\t\tthis._ipWatcher = createWatcher();\n\t\tthis._ipWatcher.on('IP:change', this._announceAddress);\n\n\t\tthis._ipWatcher.start();\n\n\t\tthis.on('block-added', () => {\n\n\t\t});\n\n\t\tthis.on('peer', () => {\n\t\t\tswitch (type) {\n\t\t\tcase 'added':\n\t\t\tcase 'removed':\n\t\t\t\t// notifyClient\n\t\t\t\tbreak;\n\t\t\tcase 'add':\n\t\t\t\t// add peer\n\t\t\tcase 'remove':\n\t\t\t\t// notifyClient\n\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t}\n\n\tasync _announceAddress(oldIP, newIP) {\n    const peerinfo = await this.ipfs.id();\n\t\tconst address = `/ip4/${newIP}/tcp/4001/ipfs/${peerinfo.id}`;\n    global.multiAddress = address;\n\t\tif (oldIP !== newIP) this.ipfs.pubsub.publish('peer-added', new Buffer(JSON.stringify({id: peerinfo.id, address})));\n\t}\n\n\n}\n\nexport default ipfs => new Emitter(ipfs);\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/controller.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 14,
    "kind": "class",
    "name": "Emitter",
    "memberof": "src/controller.js",
    "static": true,
    "longname": "src/controller.js~Emitter",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/controller.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "interface": false,
    "extends": [
      "events~EventEmitter"
    ]
  },
  {
    "__docId__": 15,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/controller.js~Emitter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/controller.js~Emitter#constructor",
    "access": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true
  },
  {
    "__docId__": 16,
    "kind": "member",
    "name": "ipfs",
    "memberof": "src/controller.js~Emitter",
    "static": false,
    "longname": "src/controller.js~Emitter#ipfs",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 18,
    "kind": "member",
    "name": "_ipWatcher",
    "memberof": "src/controller.js~Emitter",
    "static": false,
    "longname": "src/controller.js~Emitter#_ipWatcher",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true
  },
  {
    "__docId__": 19,
    "kind": "method",
    "name": "_announceAddress",
    "memberof": "src/controller.js~Emitter",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/controller.js~Emitter#_announceAddress",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true
  },
  {
    "__docId__": 20,
    "kind": "function",
    "name": "controller",
    "memberof": "src/controller.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/controller.js~controller",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/controller.js",
    "importStyle": "controller",
    "description": null,
    "lineNumber": 46,
    "undocument": true
  },
  {
    "__docId__": 21,
    "kind": "file",
    "name": "src/core.js",
    "content": "import { getUserConfig, debug, allowFailureUntillEnough, log, groupCollapsed } from './utils';\r\nimport bus from './lib/bus';\r\nimport { join } from 'path';\r\nimport './server/index';\r\nimport { connect, connectBootstrap } from './lib/network/peernet';\r\nimport { DAGChain } from './lib/dagchain/dagchain';\r\nimport { configPath, networkPath, network } from './params';\nimport ipfsdNode from 'ipfsd-node';\r\nimport { write } from 'crypto-io-fs';\nimport ipfsStar from './lib/network/ipfs-star'\n\r\nglobal.states = {\r\n  ready: false,\r\n  syncing: false,\r\n  connecting: false,\r\n  mining: false\r\n};\r\n\r\nexport const core = async ({ genesis }) => {\r\n\ttry {\r\n    const now = Date.now();\r\n    const config = await getUserConfig;\r\n    const secure_now = Date.now();\r\n    bus.emit('stage-one');\n    const ipfsd = await ipfsdNode({\n      bootstrap: network,\n      sharding: true,\n      relayHop: true,\n      flags: ['--enable-pubsub-experiment'],\n      repoPath: networkPath,\n      cleanup: false\n    });\n\n    // TODO: flags should be configurable @ start\r\n    const { ipfs, addresses } = await ipfsd.start();\n    await connectBootstrap();\n    const star = ipfsStar(addresses[0], ipfs.pubsub);\r\n\r\n    const ipfsd_now = Date.now();\r\n    process.on('SIGINT', async () => {\r\n      console.log(\"Caught interrupt signal\");\n      await star.stop();\r\n      await ipfsd.stop();\r\n      setTimeout(async () => {\r\n        process.exit();\r\n      }, 50);\r\n      //graceful shutdown\r\n    });\r\n    await connect();\r\n    const connection_now = Date.now();\r\n    bus.emit('stage-two');\r\n    groupCollapsed('Initialize', () => {\r\n      log(`secure-connection took: ${(secure_now - now) / 1000} seconds`);\r\n      log(`ipfs daemon startup took: ${(ipfsd_now - secure_now) / 1000} seconds`);\r\n      log(`peer connection took: ${(connection_now - ipfsd_now) / 1000} seconds`);\r\n      log(`total load prep took ${(Date.now() - now) / 1000} seconds`);\r\n    })\r\n    await write(configPath, JSON.stringify(config, null, '\\t'));\r\n    const chain = new DAGChain({ genesis, network, ipfs });\r\n    await chain.init();    \r\n\t} catch (e) {\r\n    if (e.code === 'ECONNREFUSED' || e.message && e.message.includes('cannot acquire lock')) {\r\n      // await cleanRepo();\r\n      console.log('retrying');\r\n      // return core({ genesis, network });\r\n    }\r\n\t\tconsole.error(`load-error::${e}`);\r\n    // process.exit()\r\n\t}\r\n}\r\n\r\nexport default core({genesis: false})\r\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/core.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 22,
    "kind": "function",
    "name": "core",
    "memberof": "src/core.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/core.js~core",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/core.js",
    "importStyle": "{core}",
    "description": null,
    "lineNumber": 19,
    "undocument": true
  },
  {
    "__docId__": 23,
    "kind": "file",
    "name": "src/difficulty.js",
    "content": "/**\n * Get hash difficulty\n *\n * @param hash\n * @return {Number}\n */\nexport default hash => {\n\treturn parseInt(hash.substring(0, 8), 16);\n};\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/difficulty.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 24,
    "kind": "function",
    "name": "difficulty",
    "memberof": "src/difficulty.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/difficulty.js~difficulty",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/difficulty.js",
    "importStyle": "difficulty",
    "description": "Get hash difficulty",
    "lineNumber": 7,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "hash",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 25,
    "kind": "file",
    "name": "src/ipfs-dynamic-seed.js",
    "content": "import * as IPFS from 'ipfs-api';\n\nexport class DynamicSeed {\n\tconstructor(name, ipfs) {\n\t\tif (!this.ipfs) {\n  \t\tthis.ipfs = new IPFS();\n  \t}\n\t\tthis.name = name;\n\t}\n\n\tasync getSeeds() {\n  \ttry {\n      const resolved = await this.ipfs.name.resolve(name);\n      const seeds = await this.ipfs.object.get(resolved.replace('/ipfs/', ''));\n      return seeds;\n    } catch (e) {\n      console.warn(e);\n    }\n\t}\n\n\tasync addSeed(seed) {\n    const seeds = await this.getSeeds();\n    JSON.parse(seeds.data.toString());\n\t}\n\n  publish(seeds) {\n  \tconst published = this.ipfs.name.publish(seeds);\n  }\n}\n\nexport default (name, ipfs) => new DynamicSeed(name, ipfs);\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/ipfs-dynamic-seed.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 26,
    "kind": "class",
    "name": "DynamicSeed",
    "memberof": "src/ipfs-dynamic-seed.js",
    "static": true,
    "longname": "src/ipfs-dynamic-seed.js~DynamicSeed",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/ipfs-dynamic-seed.js",
    "importStyle": "{DynamicSeed}",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 27,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/ipfs-dynamic-seed.js~DynamicSeed",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ipfs-dynamic-seed.js~DynamicSeed#constructor",
    "access": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true
  },
  {
    "__docId__": 28,
    "kind": "member",
    "name": "ipfs",
    "memberof": "src/ipfs-dynamic-seed.js~DynamicSeed",
    "static": false,
    "longname": "src/ipfs-dynamic-seed.js~DynamicSeed#ipfs",
    "access": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true
  },
  {
    "__docId__": 29,
    "kind": "member",
    "name": "name",
    "memberof": "src/ipfs-dynamic-seed.js~DynamicSeed",
    "static": false,
    "longname": "src/ipfs-dynamic-seed.js~DynamicSeed#name",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true
  },
  {
    "__docId__": 30,
    "kind": "method",
    "name": "getSeeds",
    "memberof": "src/ipfs-dynamic-seed.js~DynamicSeed",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/ipfs-dynamic-seed.js~DynamicSeed#getSeeds",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true
  },
  {
    "__docId__": 31,
    "kind": "method",
    "name": "addSeed",
    "memberof": "src/ipfs-dynamic-seed.js~DynamicSeed",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/ipfs-dynamic-seed.js~DynamicSeed#addSeed",
    "access": null,
    "description": null,
    "lineNumber": 21,
    "undocument": true
  },
  {
    "__docId__": 32,
    "kind": "method",
    "name": "publish",
    "memberof": "src/ipfs-dynamic-seed.js~DynamicSeed",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/ipfs-dynamic-seed.js~DynamicSeed#publish",
    "access": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true
  },
  {
    "__docId__": 33,
    "kind": "function",
    "name": "ipfsdynamicseed",
    "memberof": "src/ipfs-dynamic-seed.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/ipfs-dynamic-seed.js~ipfsdynamicseed",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/ipfs-dynamic-seed.js",
    "importStyle": "ipfsdynamicseed",
    "description": null,
    "lineNumber": 31,
    "undocument": true
  },
  {
    "__docId__": 34,
    "kind": "file",
    "name": "src/ipfs-keep-alive.js",
    "content": "export const twelveHours = 43200000;\nexport default (published, ipfs, cb) => {\n  if (!ipfs) {\n    const IPFS = require('ipfs-api');\n    ipfs = new IPFS();\n  }\n\tconst aliveTimeout = () => {\n    setTimeout(async () => {\n      published = await ipfs.name.resolve(published['name']);\n      published = await ipfs.name.publish(published['value']);\n      if (cb) {\n        cb(null, published);\n      }\n      return aliveTimeout();\n\t\t}, twelveHours);\n  }\n  aliveTimeout();\n};\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/ipfs-keep-alive.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 35,
    "kind": "variable",
    "name": "twelveHours",
    "memberof": "src/ipfs-keep-alive.js",
    "static": true,
    "longname": "src/ipfs-keep-alive.js~twelveHours",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/ipfs-keep-alive.js",
    "importStyle": "{twelveHours}",
    "description": null,
    "lineNumber": 1,
    "undocument": true
  },
  {
    "__docId__": 36,
    "kind": "function",
    "name": "ipfskeepalive",
    "memberof": "src/ipfs-keep-alive.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/ipfs-keep-alive.js~ipfskeepalive",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/ipfs-keep-alive.js",
    "importStyle": "ipfskeepalive",
    "description": null,
    "lineNumber": 2,
    "undocument": true
  },
  {
    "__docId__": 37,
    "kind": "file",
    "name": "src/lib/bus.js",
    "content": "import EventEmitter from 'events';\n\nclass Emitter extends EventEmitter {\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n\nexport default new Emitter();\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/bus.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 38,
    "kind": "class",
    "name": "Emitter",
    "memberof": "src/lib/bus.js",
    "static": true,
    "longname": "src/lib/bus.js~Emitter",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/bus.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "pseudoExport": true,
    "undocument": true,
    "interface": false,
    "extends": [
      "events~EventEmitter"
    ]
  },
  {
    "__docId__": 39,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/lib/bus.js~Emitter",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/bus.js~Emitter#constructor",
    "access": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true
  },
  {
    "__docId__": 40,
    "kind": "variable",
    "name": "emitter",
    "memberof": "src/lib/bus.js",
    "static": true,
    "longname": "src/lib/bus.js~emitter",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/bus.js",
    "importStyle": "emitter",
    "description": null,
    "lineNumber": 9,
    "undocument": true
  },
  {
    "__docId__": 41,
    "kind": "file",
    "name": "src/lib/dagchain/calculate-hash.js",
    "content": "import createDAGNode from './dagnode';\n\nexport default async block => {\n  block = await createDAGNode(block);\n  return block.multihash.toString('hex').substring(4);\n}\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/dagchain/calculate-hash.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 42,
    "kind": "function",
    "name": "calculatehash",
    "memberof": "src/lib/dagchain/calculate-hash.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/lib/dagchain/calculate-hash.js~calculatehash",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/calculate-hash.js",
    "importStyle": "calculatehash",
    "description": null,
    "lineNumber": 3,
    "undocument": true
  },
  {
    "__docId__": 43,
    "kind": "file",
    "name": "src/lib/dagchain/dagblock.js",
    "content": "import { validateTransactions, createRewardTransaction } from './../transaction';\r\nimport { hexFromMultihash, getDifficulty } from './../../utils';\r\nimport { isValid } from 'crypto-chain-validator';\r\nimport { BlockError } from '../errors';\nimport createDAGNode from  './dagnode';\nimport calculateHash from  './calculate-hash';\r\nimport IPFS from 'ipfs-api';\r\nconst ipfs = new IPFS();\r\n\r\n/**\r\n * Create new block\r\n *\r\n * @param transactions {array}\r\n * @param previousBlock {object}\r\n * @param address {string}\r\n * @return {index, prevHash, time, transactions, nonce}\r\n */\r\nclass DAGBlock {\r\n\tconstructor(options) {\r\n    if (!options) return;\r\n\t\tif (typeof options === 'object' && !Buffer.isBuffer(options)) return this.newBlock(options);\r\n\t\telse return this.get(options);\r\n\t}\r\n\r\n\tasync newBlock({transactions, previousBlock, address}) {\r\n\t\ttransactions.push(createRewardTransaction(address, previousBlock.index + 1));\r\n\t\tthis.data = {\r\n\t\t\tindex: previousBlock.index + 1,\r\n\t\t\tprevHash: previousBlock.hash,\r\n\t\t\ttime: Math.floor(new Date().getTime() / 1000),\r\n\t\t\ttransactions,\r\n\t\t\tnonce: 0\r\n\t\t};\r\n\t\tthis.data.hash = await calculateHash(this.data);\r\n\t\treturn this.data;\r\n\t}\r\n\ttransformBlock({multihash, data}) {\r\n\t  data = JSON.parse(data.toString());\r\n\t  data.hash = hexFromMultihash(multihash);\r\n\t  return data;\r\n\t};\r\n\tasync get(hash) {\r\n\t\tthis.node = await ipfs.object.get(hash);\r\n\t\treturn this.transformBlock(this.node);\r\n\t}\r\n\tasync put(block) {\r\n\t\tthis.node = await createDAGNode(block || this.data);\r\n\t\treturn await ipfs.object.put(this.node);\r\n\t}\r\n}\r\n\n/**\n * validate block\n *\n * @param {object} previousBlock\n * @param {object} block\n * @param {number} difficulty\n * @param {number} unspent\n */\nconst validate = async (previousBlock, block, difficulty, unspent) => {\n\tif (!isValid('block', block)) throw BlockError('data');\n\tif (previousBlock.index + 1 !== block.index) throw BlockError('index');\n\tif (previousBlock.hash !== block.prevHash) throw BlockError('prevhash');\n\tif (await calculateHash(block) !== block.hash) throw BlockError('hash');\n\tif (getDifficulty(block.hash) > difficulty) throw BlockError('difficulty');\n\treturn validateTransactions(block.transactions, unspent);\n};\n\nexport {\n  DAGBlock,\n  validate\n};\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/dagchain/dagblock.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 44,
    "kind": "variable",
    "name": "ipfs",
    "memberof": "src/lib/dagchain/dagblock.js",
    "static": true,
    "longname": "src/lib/dagchain/dagblock.js~ipfs",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/dagchain/dagblock.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true
  },
  {
    "__docId__": 45,
    "kind": "class",
    "name": "DAGBlock",
    "memberof": "src/lib/dagchain/dagblock.js",
    "static": true,
    "longname": "src/lib/dagchain/dagblock.js~DAGBlock",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagblock.js",
    "importStyle": "{DAGBlock}",
    "description": "Create new block",
    "lineNumber": 18,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "transactions",
        "description": "{array}"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "previousBlock",
        "description": "{object}"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "address",
        "description": "{string}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "index, prevHash, time, transactions, nonce"
      ],
      "spread": false,
      "description": ""
    },
    "interface": false
  },
  {
    "__docId__": 46,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/lib/dagchain/dagblock.js~DAGBlock",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/dagchain/dagblock.js~DAGBlock#constructor",
    "access": null,
    "description": null,
    "lineNumber": 19,
    "undocument": true
  },
  {
    "__docId__": 47,
    "kind": "method",
    "name": "newBlock",
    "memberof": "src/lib/dagchain/dagblock.js~DAGBlock",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagblock.js~DAGBlock#newBlock",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true
  },
  {
    "__docId__": 48,
    "kind": "member",
    "name": "data",
    "memberof": "src/lib/dagchain/dagblock.js~DAGBlock",
    "static": false,
    "longname": "src/lib/dagchain/dagblock.js~DAGBlock#data",
    "access": null,
    "description": null,
    "lineNumber": 27,
    "undocument": true
  },
  {
    "__docId__": 49,
    "kind": "method",
    "name": "transformBlock",
    "memberof": "src/lib/dagchain/dagblock.js~DAGBlock",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/dagchain/dagblock.js~DAGBlock#transformBlock",
    "access": null,
    "description": null,
    "lineNumber": 37,
    "undocument": true
  },
  {
    "__docId__": 50,
    "kind": "method",
    "name": "get",
    "memberof": "src/lib/dagchain/dagblock.js~DAGBlock",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagblock.js~DAGBlock#get",
    "access": null,
    "description": null,
    "lineNumber": 42,
    "undocument": true
  },
  {
    "__docId__": 51,
    "kind": "member",
    "name": "node",
    "memberof": "src/lib/dagchain/dagblock.js~DAGBlock",
    "static": false,
    "longname": "src/lib/dagchain/dagblock.js~DAGBlock#node",
    "access": null,
    "description": null,
    "lineNumber": 43,
    "undocument": true
  },
  {
    "__docId__": 52,
    "kind": "method",
    "name": "put",
    "memberof": "src/lib/dagchain/dagblock.js~DAGBlock",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagblock.js~DAGBlock#put",
    "access": null,
    "description": null,
    "lineNumber": 46,
    "undocument": true
  },
  {
    "__docId__": 54,
    "kind": "function",
    "name": "validate",
    "memberof": "src/lib/dagchain/dagblock.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/lib/dagchain/dagblock.js~validate",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagblock.js",
    "importStyle": "{validate}",
    "description": "validate block",
    "lineNumber": 60,
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "previousBlock",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "block",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "difficulty",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "unspent",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 55,
    "kind": "file",
    "name": "src/lib/dagchain/dagchain-interface.js",
    "content": "import { config, median, multihashFromHex } from './../../utils';\r\nimport { validateTransaction } from './../transaction.js';\r\nimport { TransactionError } from './../errors.js';\r\nimport { DAGBlock, validate } from './dagblock';\nimport createDAGNode from './dagnode';\r\nimport { encode, decode } from 'bs58';\r\nimport { GENESISBLOCK } from '../../params';\r\nimport { resolvePeers } from '../network/peernet';\r\nimport IPFS from 'ipfs-api';\r\nconst ipfs = new IPFS();\nconst invalidTransactions = {};\n\r\nglobal.chain = global.chain || [\r\n  GENESISBLOCK\r\n];\r\nglobal.mempool = global.mempool || [];\n\r\nexport const chain = (() => global.chain)();\r\n\r\nexport const mempool = (() => global.mempool)();\r\n\n// TODO: needs 3 nodes running\nconst invalidTransaction = data => {\n  data = JSON.parse(data.toString());\n  const tx = invalidTransactions[data.tx];\n  let {count} = tx.count || 0;\n  if (count === 3) {\n    const memIndex = mempool.indexOf(data)\n    mempool.splice(memIndex)\n    delete invalidTransactions[data.tx];\n  } else {\n    invalidTransactions[data.tx].count++;\n  }\n}\nipfs.pubsub.subscribe('invalid-transaction', invalidTransaction)\n\r\n/**\r\n * Get the transactions for the next Block\r\n *\r\n * @return {object} transactions\r\n */\r\nexport const nextBlockTransactions = () => {\r\n\tconst unspent = getUnspent(false);\r\n\treturn mempool.filter(async (transaction) => {\r\n\t\ttry {\r\n\t\t\treturn validateTransaction(transaction, unspent);\r\n\t\t} catch (e) {\n      // TODO: push to pubus\n      ipfs.pubsub.publish('invalid-transaction', new Buffer.from(JSON.stringify(transaction)));\n\n      // TODO: notification... here or in errors propably best here...\r\n\t\t\tconsole.error(e);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const getTransactions = (withMempool = true) => {\r\n\tlet transactions = chain.reduce((transactions, block) => transactions.concat(block.transactions), []);\r\n\tif (withMempool) transactions = transactions.concat(mempool);\r\n\treturn transactions;\r\n};\r\n\r\nexport const getTransactionsForAddress = address => {\r\n\treturn getTransactions(false).filter(tx => tx.inputs.find(i => i.address === address) ||\r\n  tx.outputs.find(o => o.address === address));\r\n};\r\n\r\nexport const getUnspent = (withMempool = false) => {\r\n\tconst transactions = getTransactions(withMempool);\r\n\t// Find all inputs with their tx ids\r\n\tconst inputs = transactions.reduce((inputs, tx) => inputs.concat(tx.inputs), []);\r\n\r\n\t// Find all outputs with their tx ids\r\n\tconst outputs = transactions.reduce((outputs, tx) =>\r\n\t\toutputs.concat(tx.outputs.map(output => Object.assign({}, output, {tx: tx.id}))), []);\r\n\r\n\t// Figure out which outputs are unspent\r\n\tconst unspent = outputs.filter(output =>\r\n\t\ttypeof inputs.find(input => input.tx === output.tx && input.index === output.index && input.amount === output.amount) === 'undefined');\r\n\treturn unspent;\r\n};\r\nexport const getUnspentForAddress = address => {\r\n\treturn getUnspent(true).filter(u => u.address === address);\r\n};\r\nexport const getBalanceForAddress = address => {\r\n\treturn getUnspentForAddress(address).reduce((acc, u) => acc + u.amount , 0);\r\n};\r\nexport const difficulty = () => {\r\n\t// TODO: lower difficulty when transactionpool contain more then 500 tx ?\r\n\t// TODO: raise difficulty when pool is empty\r\n\t// get the last 128 blocks\r\n\tconst start = chain.length >= 128 ? (chain.length - 128) : 0;\r\n\tconst blocks = chain.slice(start, (chain.length - 1)).reverse();\r\n\tconst stamps = [];\r\n\tfor (var i = 0; i < blocks.length; i++) {\r\n\t\tif (blocks[i + 1]) {\r\n\t\t\tstamps.push(blocks[i].time - blocks[i + 1].time);\r\n\t\t}\r\n\t}\r\n\tif (stamps.length === 0) {\r\n\t\tstamps.push(10);\r\n\t}\r\n\tlet blocksMedian = median(stamps) || 10;\r\n  const offset = blocksMedian / 10\r\n   // offset for quick recovery\r\n\tif (blocksMedian < 9) {\r\n\t\tblocksMedian -= offset;\r\n\t} else if (blocksMedian > 11) {\r\n\t\tblocksMedian += offset;\r\n\t}\r\n  console.log(`Average Block Time: ${blocksMedian}`);\r\n  console.log(`Difficulty: ${10 / blocksMedian}`);\r\n\treturn 10000 / (10 / blocksMedian); // should result in a block every 10 seconds\r\n};\r\n\r\nexport const transformBlock = ({multihash, data}) => {\r\n  data = JSON.parse(data.toString());\r\n  data.hash = hashFromMultihash(multihash);\r\n  return data;\r\n};\r\n\r\n// TODO: global peerlist\r\nexport const longestChain = () => new Promise(async (resolve, reject) => {\r\n  try {\n    const peers = await resolvePeers();\n    // transform peers into valid ipfs addresses\r\n    const addrs = peers.map(({addr, peer}) => {\n      return {\n        addr: addr.toString(),\n        id: peer.toB58String()\n      }\n    });\r\n    // peers.push(id);\r\n    const stats = [];\r\n    for (const { addr, id } of addrs) {\r\n      try {\r\n        await ipfs.swarm.connect(`${addr.toString()}/ipfs/${id}`);\r\n        const ref = await ipfs.name.resolve(id);\r\n        const hash = ref.replace('/ipfs/', '');\r\n        // get chain stats for every peer\r\n        const stat = await ipfs.object.stat(hash);\r\n        // push chain length & hash\r\n        stats.push({height: stat.NumLinks - 1, hash: stat.Hash});\r\n      } catch (e) {\r\n        if (e.code === 'ECONNREFUSED') {\r\n          reject(e);\r\n        }\r\n        console.log(`Ignoring ${id}`)\r\n      }\r\n    }\r\n    // reduce to longest chain\r\n    // TODO: consider using canditates for validating\r\n    // canditates.push({hash, height})\r\n    // if c.height > p.height => newCanditatesSet ...\r\n    const stat = stats.reduce((p, c) => {\r\n      if (c.height > p.height || c.height === p.height) return c;\r\n      else return p;\r\n    }, {height: 0, hash: null});\r\n    resolve(stat);\r\n  } catch (e) {\r\n    reject(e);\r\n  }\r\n});\r\n\r\nexport const lastBlock = async () => {\r\n  const { hash, height } = await longestChain();\r\n  const { links } = await ipfs.object.get(hash); // retrieve links\r\n  // TODO: syncChain if needed\r\n  links.sort((a,b) => a.name - b.name); // sort index\r\n  // get block using its ipfs ref\r\n  return await new DAGBlock(encode(links[height].multihash));\r\n};\r\n\r\nexport const nextBlock = async address => {\n  let transactions;\n  let previousBlock;\r\n  try {\n    previousBlock = chain[chain.length - 1]; // TODO: await lastBlock\n    transactions = await nextBlockTransactions();\n  } catch (e) {\n    transactions = [];\n  } finally {\n    return await new DAGBlock({transactions, previousBlock, address});\n  }\r\n};\r\n\r\n/**\r\n * Create a new genesis block\r\n */\r\nexport const newGenesisDAGNode = async difficulty => {\r\n  let dagnode;\r\n  const block = {\r\n    index: 0,\r\n    prevHash: '0',\r\n    time: Math.floor(new Date().getTime() / 1000),\r\n    transactions: [],\r\n    nonce: 0\r\n  };\r\n\r\n  dagnode = await createDAGNode(block);\r\n  block.hash = dagnode.multihash.toString('hex').substring(4);\r\n  while (parseInt(block.hash.substring(0, 8), 16) >= difficulty) {\r\n    block.nonce++;\r\n    dagnode = await createDAGNode(block);\r\n    block.hash = dagnode.multihash.toString('hex').substring(4);\r\n  }\r\n  return dagnode;\r\n}\r\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 56,
    "kind": "variable",
    "name": "ipfs",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~ipfs",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true
  },
  {
    "__docId__": 57,
    "kind": "variable",
    "name": "invalidTransactions",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~invalidTransactions",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true
  },
  {
    "__docId__": 58,
    "kind": "variable",
    "name": "chain",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~chain",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": "{chain}",
    "description": null,
    "lineNumber": 18,
    "undocument": true
  },
  {
    "__docId__": 59,
    "kind": "variable",
    "name": "mempool",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~mempool",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": "{mempool}",
    "description": null,
    "lineNumber": 20,
    "undocument": true
  },
  {
    "__docId__": 60,
    "kind": "function",
    "name": "invalidTransaction",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~invalidTransaction",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true
  },
  {
    "__docId__": 61,
    "kind": "function",
    "name": "nextBlockTransactions",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~nextBlockTransactions",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": "{nextBlockTransactions}",
    "description": "Get the transactions for the next Block",
    "lineNumber": 42,
    "return": {
      "nullable": null,
      "types": [
        "object"
      ],
      "spread": false,
      "description": "transactions"
    }
  },
  {
    "__docId__": 62,
    "kind": "function",
    "name": "getTransactions",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~getTransactions",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": "{getTransactions}",
    "description": null,
    "lineNumber": 57,
    "undocument": true
  },
  {
    "__docId__": 63,
    "kind": "function",
    "name": "getTransactionsForAddress",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~getTransactionsForAddress",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": "{getTransactionsForAddress}",
    "description": null,
    "lineNumber": 63,
    "undocument": true
  },
  {
    "__docId__": 64,
    "kind": "function",
    "name": "getUnspent",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~getUnspent",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": "{getUnspent}",
    "description": null,
    "lineNumber": 68,
    "undocument": true
  },
  {
    "__docId__": 65,
    "kind": "function",
    "name": "getUnspentForAddress",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~getUnspentForAddress",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": "{getUnspentForAddress}",
    "description": null,
    "lineNumber": 82,
    "undocument": true
  },
  {
    "__docId__": 66,
    "kind": "function",
    "name": "getBalanceForAddress",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~getBalanceForAddress",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": "{getBalanceForAddress}",
    "description": null,
    "lineNumber": 85,
    "undocument": true
  },
  {
    "__docId__": 67,
    "kind": "function",
    "name": "difficulty",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~difficulty",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": "{difficulty}",
    "description": null,
    "lineNumber": 88,
    "undocument": true
  },
  {
    "__docId__": 68,
    "kind": "function",
    "name": "transformBlock",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~transformBlock",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": "{transformBlock}",
    "description": null,
    "lineNumber": 116,
    "undocument": true
  },
  {
    "__docId__": 69,
    "kind": "function",
    "name": "longestChain",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~longestChain",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": "{longestChain}",
    "description": null,
    "lineNumber": 123,
    "undocument": true
  },
  {
    "__docId__": 70,
    "kind": "function",
    "name": "lastBlock",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~lastBlock",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": "{lastBlock}",
    "description": null,
    "lineNumber": 165,
    "undocument": true
  },
  {
    "__docId__": 71,
    "kind": "function",
    "name": "nextBlock",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~nextBlock",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": "{nextBlock}",
    "description": null,
    "lineNumber": 174,
    "undocument": true
  },
  {
    "__docId__": 72,
    "kind": "function",
    "name": "newGenesisDAGNode",
    "memberof": "src/lib/dagchain/dagchain-interface.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/lib/dagchain/dagchain-interface.js~newGenesisDAGNode",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain-interface.js",
    "importStyle": "{newGenesisDAGNode}",
    "description": "Create a new genesis block",
    "lineNumber": 190
  },
  {
    "__docId__": 73,
    "kind": "file",
    "name": "src/lib/dagchain/dagchain.js",
    "content": "import { DAGNode } from 'ipld-dag-pb';\r\nimport { decode, encode } from 'bs58';\r\nimport EventEmitter from 'events';\r\nimport { chain, difficulty, getUnspent, longestChain, lastBlock, newGenesisDAGNode } from './dagchain-interface';\r\nimport { DAGBlock, createDAGNode, validate } from './dagblock';\r\nimport { read, write } from 'crypto-io-fs';\r\nimport { join } from 'path';\r\nimport { genesis, network, genesisCID, localIndex, localCurrent, localDAGAddress, localDAGMultiaddress, networks } from './../../params';\r\nimport { debug, hashFromMultihash, multihashFromHex, succes, log } from './../../utils';\r\nimport bus from './../bus';\r\n// import ipfsKeepAlive from './../../ipfs-keep-alive';\r\n// import bitswap from 'ipfs-bitswap';\r\n// TODO: implement bitswap\r\n// export const ipfs = (() => new IPFS())();\r\n\r\nexport class DAGChain extends EventEmitter {\r\n  get link() {\r\n    return this.name.replace('/ipfs/', '')\r\n  }\r\n  get links() {\r\n    return this.node ? this.node.links : [];\r\n  }\r\n  get index() {\r\n    const links = [];\r\n    this.links.forEach(link => {\r\n\r\n      links[link.name] = link;\r\n    });\r\n    return links.length > 0 ? links : [];\r\n  }\r\n  constructor({ipfs}) {\r\n    super();\r\n    this.announceBlock = this.announceBlock.bind(this);\r\n\r\n    this.chain = chain;\r\n    this.ipfs = ipfs;\r\n  }\r\n\r\n  init() {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        await this.ipfs.pubsub.subscribe('block-added', this.announceBlock);\r\n        const { hash } = await longestChain();\r\n        this.name = hash || await localDAGMultiaddress();\r\n        this.node = await this.get(this.link);\r\n        log(`Running on the ${network} network`);\r\n        await this.loadChain();\r\n      } catch (error) {\r\n        // TODO: finishe the genesis module\r\n        if (genesis) {\r\n          log(`Creating genesis block on the ${network} network`);\r\n          await this.newDAGChain();\r\n        } else {\r\n          reject(error)\r\n        }\r\n      }\r\n    });\r\n  }\r\n  async resolve(name) {\r\n    return await this.ipfs.name.resolve(name, {recursive: true});\r\n  }\r\n\r\n  async get(multihash) {\r\n    return await this.ipfs.object.get(multihash);\r\n  }\r\n\r\n  async put(DAGNode) {\n    return await this.ipfs.object.put(DAGNode);\r\n  }\r\n\r\n  async pin(multihash) {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        await this.ipfs.pin.add(multihash);\r\n        resolve();\r\n      } catch (e) {\r\n        reject(e)\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * addLink\r\n   */\r\n  async addLink(multihash, link) {\r\n    const newDAGChain = await this.ipfs.object.patch.addLink(multihash, link);\n    return await this.publish(encode(newDAGChain.multihash));\r\n  }\r\n\r\n  async lastLink() {\r\n    try {\r\n      await this.sync();\r\n      const height = Number(this.links.length) - 1;\r\n      for (const link of this.links) {\r\n        if (Number(link.name) === height) {\r\n          return link.multihash;\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error('Sync Error::', e);\r\n    }\r\n  }\r\n  // TODO: decentralize\r\n  async lastBlock() {\r\n    const lastLink = await this.lastLink();\r\n    return await new DAGBlock(lastLink);\r\n  }\r\n\r\n  /**\r\n   * resolves to the latest chainObject\r\n   */\r\n  async sync() {\r\n    const { hash } = await longestChain();\r\n    this.name = hash || await localDAGMultiaddress();\r\n    this.node = await this.get(this.link);\r\n    return this.link;\r\n  }\r\n\r\n  async publish(multihash) {\r\n    const published = await this.ipfs.name.publish(multihash);\r\n    // if (this.name) {\r\n    //   await this.sync();\r\n    // }\r\n    await this.pin(published['value']);\r\n    return published['name']  // only needed when creating genesis block\r\n  }\n\n  async resolveBlocks(multihash, index) {\n    try {\n      let block = await new DAGBlock(encode(multihash));\n      if (block.index > index) {\n        await this.pin(encode(multihash)); // pin block locally\n        console.log(`added block: ${block.index}  ${block.hash}`);\n      }\n      chain[block.index] = block;\n      console.log(`loaded block: ${block.index}  ${block.hash}`);\n      if (block.prevHash && block.prevHash.length > 3) {\n        return this.resolveBlocks(Buffer.from(`1220${block.prevHash}`, 'hex'), index);\n      }\n      return;\n    } catch (e) {\n      console.error(e);\n    }\n  }\r\n\r\n  async syncChain() {\r\n    try {\r\n      bus.emit('syncing', true);\r\n      if (this.index) {\r\n        const { index, prevHash } = await this.localBlock();\n        const height = this.index.length - 1;\n        let syncCount = height - index;\n        const multihash = this.index[height].multihash;\n        log(`syncing ${syncCount} blocks`)\n        await this.resolveBlocks(multihash, index);\n        await this.updateLocals(multihash.toString('hex'), height, this.link);\n        await this.publish(this.link);\r\n      }\r\n      bus.emit('syncing', false);\r\n    } catch (e) {\r\n      console.error('syncChain', e);\r\n    }\r\n\r\n  }\r\n\r\n  async localBlock() {\r\n    try {\r\n      const CID = await read(localCurrent, 'string'); // read local chain state\r\n      const multihash = encode(new Buffer(CID, 'hex'));\r\n      const current = await this.get(multihash);\r\n      const { index } = JSON.parse(current.data.toString());\r\n      debug(`current local block CID ${CID}`);\r\n      debug(`current local dag: ${multihash}`);\r\n      return {\r\n        index,\r\n        multihash,\r\n        CID\r\n      }\r\n    } catch (e) {\r\n      const CID = await this.get(encode(new Buffer(genesisCID, 'hex')));\r\n      await write(localCurrent, CID.multihash.toString('hex'));\r\n      return await this.localBlock();\r\n    }\r\n  }\r\n\r\n  async loadChain() {\r\n    await this.syncChain();\r\n    bus.emit('ready', true);\r\n  }\r\n\r\n  addBlock(block) {\r\n    return new Promise(async (resolve, reject) => {\r\n      log(`add block: ${block.index}  ${block.hash}`);\r\n      chain[block.index] = block;\r\n      bus.emit('block-added', block);\n      await this.sync();\r\n      await this.pin(multihashFromHex(block.hash)); // pin block locally\r\n      await this.updateLocals(`1220${block.hash}`, block.index, this.link);\n\n      try {\n        await this.publish(this.link);\n      } catch (e) {\n        console.warn(e);\n      }\n\n      block.transactions.forEach(transaction => {\n        const index = mempool.indexOf(transaction)\n        mempool.splice(index)\n      })\r\n    });\r\n  }\r\n  // TODO: write using ipfs.files.write\r\n  writeLocals(CID, index, DAGAdress) {\r\n    return new Promise(async (resolve, reject) => {\r\n      await write(localIndex, JSON.stringify(index));\r\n      await write(localCurrent, CID);\r\n      await write(localDAGAddress, DAGAdress);\r\n      resolve();\r\n    });\r\n  }\r\n\r\n  updateLocals(CID, height, DAGAdress) {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const index = await read(localIndex, 'json');\r\n        index.push([height, CID]);\r\n        await this.writeLocals(CID, index, DAGAdress);\r\n      } catch (error) {\r\n        await this.writeLocals(CID, [[height, CID]], DAGAdress);\r\n      }\r\n      resolve();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initialize a new chain on the IPFS network\r\n   * Creates creates & saves the genesisBlock to IPFS, blocks are pinned so they aren't removeable on the local side.\r\n   *\r\n   * @param {object} block The genesis block to write\r\n   * @setup PART of Easy setup your own blockchain, more info URL...\r\n   */\r\n  async newDAGChain() {\r\n    try {\r\n      const genesisDAGNode = await newGenesisDAGNode(difficulty());\r\n      const block = await this.put(genesisDAGNode);\r\n      // await this.pin(encode(block.multihash));\r\n      const chainDAG = await this.ipfs.object.new('unixfs-dir');\r\n      const height = JSON.parse(genesisDAGNode.data.toString()).index;\r\n      const newDAGChain = await this.ipfs.object.patch.addLink(chainDAG.multihash, {name: height, size: block.size, multihash: block.multihash});\r\n      const CID = block.multihash.toString('hex'); // The CID as an base58 string\r\n      await this.updateLocals(CID, 0, encode(newDAGChain.multihash))\r\n      succes('genesisBlock created');\r\n      log(`genesisBlock: ${block.data.toString()}`);\r\n      log(`genesis: ${encode(block.data)}\\nCID:\\t${CID}`);\r\n      log(`DAGChain name ${encode(newDAGChain.multihash)}`);\r\n      return;\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  async updateLocalChain(block) {\r\n    const dagnode = await new DAGBlock().put(block);\r\n    await this.addLink(this.link, {name: block.index, size: dagnode.size, multihash: dagnode.multihash});\r\n    return;\r\n  }\r\n\r\n  // TODO: go with previous block instead off lastBlock\r\n  // TODO: validate on sync ...\r\n  async announceBlock({data, from}) {\r\n      const block = JSON.parse(data.toString());\r\n      try {\r\n        // const previousBlock = await lastBlock(); // test\r\n        await validate(chain[chain.length - 1], block, difficulty(), getUnspent());\n        // await this.sync();\r\n        await this.updateLocalChain(block);\r\n        this.addBlock(block); // add to chain\r\n      } catch (error) {\r\n        // TODO: remove publish invalid-block\r\n        this.ipfs.pubsub.publish('invalid-block', new Buffer.from(JSON.stringify(block)));\r\n        bus.emit('invalid-block', block);\r\n        return console.error(error);\r\n      }\r\n    }\r\n}\r\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/dagchain/dagchain.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 74,
    "kind": "class",
    "name": "DAGChain",
    "memberof": "src/lib/dagchain/dagchain.js",
    "static": true,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagchain.js",
    "importStyle": "{DAGChain}",
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "interface": false,
    "extends": [
      "events~EventEmitter"
    ]
  },
  {
    "__docId__": 75,
    "kind": "get",
    "name": "link",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#link",
    "access": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true
  },
  {
    "__docId__": 76,
    "kind": "get",
    "name": "links",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#links",
    "access": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true
  },
  {
    "__docId__": 77,
    "kind": "get",
    "name": "index",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#index",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true
  },
  {
    "__docId__": 78,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#constructor",
    "access": null,
    "description": null,
    "lineNumber": 31,
    "undocument": true
  },
  {
    "__docId__": 80,
    "kind": "member",
    "name": "chain",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#chain",
    "access": null,
    "description": null,
    "lineNumber": 35,
    "undocument": true
  },
  {
    "__docId__": 81,
    "kind": "member",
    "name": "ipfs",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#ipfs",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true
  },
  {
    "__docId__": 82,
    "kind": "method",
    "name": "init",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#init",
    "access": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true
  },
  {
    "__docId__": 83,
    "kind": "member",
    "name": "name",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#name",
    "access": null,
    "description": null,
    "lineNumber": 44,
    "undocument": true
  },
  {
    "__docId__": 84,
    "kind": "member",
    "name": "node",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#node",
    "access": null,
    "description": null,
    "lineNumber": 45,
    "undocument": true
  },
  {
    "__docId__": 85,
    "kind": "method",
    "name": "resolve",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#resolve",
    "access": null,
    "description": null,
    "lineNumber": 59,
    "undocument": true
  },
  {
    "__docId__": 86,
    "kind": "method",
    "name": "get",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#get",
    "access": null,
    "description": null,
    "lineNumber": 63,
    "undocument": true
  },
  {
    "__docId__": 87,
    "kind": "method",
    "name": "put",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#put",
    "access": null,
    "description": null,
    "lineNumber": 67,
    "undocument": true
  },
  {
    "__docId__": 88,
    "kind": "method",
    "name": "pin",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#pin",
    "access": null,
    "description": null,
    "lineNumber": 71,
    "undocument": true
  },
  {
    "__docId__": 89,
    "kind": "method",
    "name": "addLink",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#addLink",
    "access": null,
    "description": "addLink",
    "lineNumber": 85
  },
  {
    "__docId__": 90,
    "kind": "method",
    "name": "lastLink",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#lastLink",
    "access": null,
    "description": null,
    "lineNumber": 90,
    "undocument": true
  },
  {
    "__docId__": 91,
    "kind": "method",
    "name": "lastBlock",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#lastBlock",
    "access": null,
    "description": null,
    "lineNumber": 104,
    "undocument": true
  },
  {
    "__docId__": 92,
    "kind": "method",
    "name": "sync",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#sync",
    "access": null,
    "description": "resolves to the latest chainObject",
    "lineNumber": 112
  },
  {
    "__docId__": 95,
    "kind": "method",
    "name": "publish",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#publish",
    "access": null,
    "description": null,
    "lineNumber": 119,
    "undocument": true
  },
  {
    "__docId__": 96,
    "kind": "method",
    "name": "resolveBlocks",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#resolveBlocks",
    "access": null,
    "description": null,
    "lineNumber": 128,
    "undocument": true
  },
  {
    "__docId__": 97,
    "kind": "method",
    "name": "syncChain",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#syncChain",
    "access": null,
    "description": null,
    "lineNumber": 146,
    "undocument": true
  },
  {
    "__docId__": 98,
    "kind": "method",
    "name": "localBlock",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#localBlock",
    "access": null,
    "description": null,
    "lineNumber": 166,
    "undocument": true
  },
  {
    "__docId__": 99,
    "kind": "method",
    "name": "loadChain",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#loadChain",
    "access": null,
    "description": null,
    "lineNumber": 186,
    "undocument": true
  },
  {
    "__docId__": 100,
    "kind": "method",
    "name": "addBlock",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#addBlock",
    "access": null,
    "description": null,
    "lineNumber": 191,
    "undocument": true
  },
  {
    "__docId__": 101,
    "kind": "method",
    "name": "writeLocals",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#writeLocals",
    "access": null,
    "description": null,
    "lineNumber": 213,
    "undocument": true
  },
  {
    "__docId__": 102,
    "kind": "method",
    "name": "updateLocals",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#updateLocals",
    "access": null,
    "description": null,
    "lineNumber": 222,
    "undocument": true
  },
  {
    "__docId__": 103,
    "kind": "method",
    "name": "newDAGChain",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#newDAGChain",
    "access": null,
    "description": "Initialize a new chain on the IPFS network\nCreates creates & saves the genesisBlock to IPFS, blocks are pinned so they aren't removeable on the local side.",
    "lineNumber": 242,
    "unknown": [
      {
        "tagName": "@setup",
        "tagValue": "PART of Easy setup your own blockchain, more info URL..."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "block",
        "description": "The genesis block to write"
      }
    ]
  },
  {
    "__docId__": 104,
    "kind": "method",
    "name": "updateLocalChain",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#updateLocalChain",
    "access": null,
    "description": null,
    "lineNumber": 262,
    "undocument": true
  },
  {
    "__docId__": 105,
    "kind": "method",
    "name": "announceBlock",
    "memberof": "src/lib/dagchain/dagchain.js~DAGChain",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/dagchain/dagchain.js~DAGChain#announceBlock",
    "access": null,
    "description": null,
    "lineNumber": 270,
    "undocument": true
  },
  {
    "__docId__": 106,
    "kind": "file",
    "name": "src/lib/dagchain/dagnode.js",
    "content": "import { DAGNode } from 'ipld-dag-pb';\n\nexport default ({index, prevHash, time, transactions, nonce}) => {\n\treturn new Promise((resolve, reject) => {\n\t\tDAGNode.create(JSON.stringify({\n\t\t\tindex,\n\t\t\tprevHash,\n\t\t\ttime,\n\t\t\ttransactions,\n\t\t\tnonce\n\t\t}), [], 'sha2-256', (error, dagNode) => {\n\t\t\tif (error) {\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\treturn resolve(dagNode);\n\t\t});\n\t});\n};\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/dagchain/dagnode.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 107,
    "kind": "function",
    "name": "dagnode",
    "memberof": "src/lib/dagchain/dagnode.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/dagchain/dagnode.js~dagnode",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/dagnode.js",
    "importStyle": "dagnode",
    "description": null,
    "lineNumber": 3,
    "undocument": true
  },
  {
    "__docId__": 108,
    "kind": "file",
    "name": "src/lib/dagchain/genesis.js",
    "content": "\r\n/**\r\n * Create a new genesis block\r\n */\r\nexport const newGenesisDAGNode = async difficulty => {\r\n  let dagnode;\r\n  const block = {\r\n    index: 0,\r\n    prevHash: '0',\r\n    time: Math.floor(new Date().getTime() / 1000),\r\n    transactions: [],\r\n    nonce: 0\r\n  };\r\n\r\n  dagnode = await createDAGNode(block);\r\n  block.hash = dagnode.multihash.toString('hex').substring(4);\r\n  while (parseInt(block.hash.substring(0, 8), 16) >= difficulty) {\r\n    block.nonce++;\r\n    dagnode = await createDAGNode(block);\r\n    block.hash = dagnode.multihash.toString('hex').substring(4);\r\n  }\r\n  return dagnode;\r\n}\r\n\r\nexport default (prevHash, time)\r\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/dagchain/genesis.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 109,
    "kind": "function",
    "name": "newGenesisDAGNode",
    "memberof": "src/lib/dagchain/genesis.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/lib/dagchain/genesis.js~newGenesisDAGNode",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/dagchain/genesis.js",
    "importStyle": "{newGenesisDAGNode}",
    "description": "Create a new genesis block",
    "lineNumber": 5
  },
  {
    "__docId__": 110,
    "kind": "file",
    "name": "src/lib/dagchain/keep-alive.js",
    "content": "import ipfsKeepAlive from './../../ipfs-keep-alive';\n\nipfsKeepAlive(params.dagchain);\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/dagchain/keep-alive.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 111,
    "kind": "file",
    "name": "src/lib/errors.js",
    "content": "const invalid = (name, text) => new Error(`Invalid ${name}: ${text}`);\n// TODO: show notification\nexport const BlockError = text => invalid('block', text);\n\nexport const TransactionError = text =>\tinvalid('transaction', text);\n\nexport const MinerWarning = text => new Error(`warning @Miner: ${text}`);\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/errors.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 112,
    "kind": "function",
    "name": "invalid",
    "memberof": "src/lib/errors.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/errors.js~invalid",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/errors.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true
  },
  {
    "__docId__": 113,
    "kind": "function",
    "name": "BlockError",
    "memberof": "src/lib/errors.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/errors.js~BlockError",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/errors.js",
    "importStyle": "{BlockError}",
    "description": null,
    "lineNumber": 3,
    "undocument": true
  },
  {
    "__docId__": 114,
    "kind": "function",
    "name": "TransactionError",
    "memberof": "src/lib/errors.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/errors.js~TransactionError",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/errors.js",
    "importStyle": "{TransactionError}",
    "description": null,
    "lineNumber": 5,
    "undocument": true
  },
  {
    "__docId__": 115,
    "kind": "function",
    "name": "MinerWarning",
    "memberof": "src/lib/errors.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/errors.js~MinerWarning",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/errors.js",
    "importStyle": "{MinerWarning}",
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 116,
    "kind": "file",
    "name": "src/lib/hash.js",
    "content": "import {SHA256} from 'crypto-js';\n\nconst _SHA256 = (object) => {\n\treturn SHA256(JSON.stringify(object)).toString();\n};\n\n/**\n * Generate block hash\n *\n * @param {object} block {index, prevHash, time, transactions, nonce}\n */\nexport const calculateBlockHash = (block) => {\n\tconst {index, prevHash, time, transactions, nonce} = block;\n\treturn _SHA256({index, prevHash, time, transactions, nonce});\n};\n\n/**\n * Generate transaction hash\n *\n * @param {object} transaction {id, type, inputs, outputs}\n */\nexport const transactionHash = (transaction) => {\n\tconst {id, type, inputs, outputs} = transaction;\n\treturn _SHA256({id, type, inputs, outputs});\n};\n\n/**\n * Generate transaction input hash\n *\n * @param {object} transactionInput {transaction, index, amount, address}\n */\nexport const transactionInputHash = (transactionInput) => {\n\tconst {tx, index, amount, address} = transactionInput;\n\treturn _SHA256({tx, index, amount, address});\n};\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/hash.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 117,
    "kind": "function",
    "name": "_SHA256",
    "memberof": "src/lib/hash.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/hash.js~_SHA256",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/hash.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true
  },
  {
    "__docId__": 118,
    "kind": "function",
    "name": "calculateBlockHash",
    "memberof": "src/lib/hash.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/hash.js~calculateBlockHash",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/hash.js",
    "importStyle": "{calculateBlockHash}",
    "description": "Generate block hash",
    "lineNumber": 12,
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "block",
        "description": "{index, prevHash, time, transactions, nonce}"
      }
    ]
  },
  {
    "__docId__": 119,
    "kind": "function",
    "name": "transactionHash",
    "memberof": "src/lib/hash.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/hash.js~transactionHash",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/hash.js",
    "importStyle": "{transactionHash}",
    "description": "Generate transaction hash",
    "lineNumber": 22,
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "transaction",
        "description": "{id, type, inputs, outputs}"
      }
    ]
  },
  {
    "__docId__": 120,
    "kind": "function",
    "name": "transactionInputHash",
    "memberof": "src/lib/hash.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/hash.js~transactionInputHash",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/hash.js",
    "importStyle": "{transactionInputHash}",
    "description": "Generate transaction input hash",
    "lineNumber": 32,
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "transactionInput",
        "description": "{transaction, index, amount, address}"
      }
    ]
  },
  {
    "__docId__": 121,
    "kind": "file",
    "name": "src/lib/hd-wallet.js",
    "content": "import { generateMnemonic, mnemonicToSeed } from 'bip39';\nimport HDNode from 'bitcoinjs-lib/src/hdnode';\nimport networks from './networks';\n\nexport default class HDWallet {\n\n\tconstructor(network, hdnode) {\n\t\tif (typeof network === 'string') this.network = networks[network];\n\t\telse if (typeof network === 'object') this.network = network;\n\t\tif (hdnode) this.defineHDNode(hdnode);\n\t}\n\n\tdefineHDNode(value) {\n\t\tObject.defineProperty(this, 'hdnode', {\n\t\t\tconfigurable: false,\n\t\t\twritable: false,\n\t\t\tvalue: value\n\t\t});\n\t}\n\n\tgenerate(network) {\n\t\tnetwork = networks[network] || this.network;\n\t\tconst mnemonic = generateMnemonic();\n\t\tconst seed = mnemonicToSeed(mnemonic);\n\t\tthis.defineHDNode(HDNode.fromSeedBuffer(seed, network));\n\t\treturn { mnemonic }; // userpw\n\t}\n\n\t/**\n   * recover using mnemonic (recovery word list)\n   */\n\trecover(mnemonic, network) {\n\t\tnetwork = networks[network] || this.network;\n\t\tconst seed = mnemonicToSeed(mnemonic);\n\t\tthis.defineHDNode(HDNode.fromSeedBuffer(seed, network));\n\t}\n\n\tload(base58, network) {\n\t\tnetwork = networks[network] || this.network;\n\t\tthis.defineHDNode(HDNode.fromBase58(base58, network));\n\t}\n\n\tsave() {\n\t\treturn this.hdnode.toBase58();\n\t}\n}\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/hd-wallet.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 122,
    "kind": "class",
    "name": "HDWallet",
    "memberof": "src/lib/hd-wallet.js",
    "static": true,
    "longname": "src/lib/hd-wallet.js~HDWallet",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/hd-wallet.js",
    "importStyle": "HDWallet",
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 123,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/lib/hd-wallet.js~HDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/hd-wallet.js~HDWallet#constructor",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 124,
    "kind": "member",
    "name": "network",
    "memberof": "src/lib/hd-wallet.js~HDWallet",
    "static": false,
    "longname": "src/lib/hd-wallet.js~HDWallet#network",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true
  },
  {
    "__docId__": 126,
    "kind": "method",
    "name": "defineHDNode",
    "memberof": "src/lib/hd-wallet.js~HDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/hd-wallet.js~HDWallet#defineHDNode",
    "access": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true
  },
  {
    "__docId__": 127,
    "kind": "method",
    "name": "generate",
    "memberof": "src/lib/hd-wallet.js~HDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/hd-wallet.js~HDWallet#generate",
    "access": null,
    "description": null,
    "lineNumber": 21,
    "undocument": true
  },
  {
    "__docId__": 128,
    "kind": "method",
    "name": "recover",
    "memberof": "src/lib/hd-wallet.js~HDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/hd-wallet.js~HDWallet#recover",
    "access": null,
    "description": "recover using mnemonic (recovery word list)",
    "lineNumber": 32
  },
  {
    "__docId__": 129,
    "kind": "method",
    "name": "load",
    "memberof": "src/lib/hd-wallet.js~HDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/hd-wallet.js~HDWallet#load",
    "access": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true
  },
  {
    "__docId__": 130,
    "kind": "method",
    "name": "save",
    "memberof": "src/lib/hd-wallet.js~HDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/hd-wallet.js~HDWallet#save",
    "access": null,
    "description": null,
    "lineNumber": 43,
    "undocument": true
  },
  {
    "__docId__": 131,
    "kind": "file",
    "name": "src/lib/miner.js",
    "content": "import { config, hashLog, median } from './../utils';\nimport getDifficulty from '../difficulty';\r\nimport { BlockError, TransactionError, MinerWarning } from './errors';\r\nimport { StoreHandler } from 'crypto-store';\r\nimport { nextBlock, difficulty } from './dagchain/dagchain-interface';\r\nimport bus from './bus';\r\nimport { fork } from 'child_process';\r\nimport { join } from 'path';\r\nimport IPFS from 'ipfs-api'\r\nconst ipfs = new IPFS();\r\n\r\nexport default class Miner extends StoreHandler {\r\n\r\n  get donationAddress() {\r\n    return 'cpc';\r\n  }\r\n\r\n  constructor(address, intensity, autostart) {\r\n    // TODO: limit intensity when pool is empty\r\n    super();\r\n    this.workerPath = join(__dirname, 'miner-worker.js')\r\n    if (!address) {\r\n      MinerWarning('All profit will be donated until address is set');\r\n    }\r\n    this.address = address;\r\n    this.running = 0;\r\n\r\n\r\n    if (autostart) {\r\n      this.start();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * keep node(s) in sync\r\n   */\r\n  onBlockAdded() {\r\n    return new Promise((resolve, reject) => {\r\n      this._onBlockAdded = block => {\r\n        bus.removeListener('block-added', this._onBlockAdded);\r\n        bus.removeListener('invalid-block', this._onBlockInvalid);\r\n        this.mineStop()\r\n        resolve(block);\r\n      }\r\n      this._onBlockInvalid = block => {\r\n        bus.removeListener('block-added', this._onBlockAdded);\r\n        bus.removeListener('invalid-block', this._onBlockInvalid);\r\n        this.mineStop()\r\n        resolve(null);\r\n      }\r\n      bus.once('block-added', this._onBlockAdded);\r\n      bus.once('invalid-block', this._onBlockInvalid);\r\n    });\r\n  }\r\n\r\n\r\n  async start() {\r\n    // ipfs.pubsub.subscribe('invalid-block');\r\n    this.mining = true;\r\n    this.mine(Math.random().toString(36).slice(-11));\r\n  }\r\n\r\n  stop() {\r\n    this.mining = false;\r\n    this.mineStop();\r\n  }\r\n\r\n  async mine(job, lastValidBlock) {\r\n    const address = this.address || this.donationAddress;\r\n    const start = Date.now();\r\n    const {block, hashes, index} = await this.mineBlock(difficulty(), address, job);\r\n\r\n    if (hashes) {\r\n      const now = Date.now();\r\n      const seconds = (now - start) / 1000;\r\n      const rate = (hashes / seconds) / 1000;\r\n      bus.emit('hashrate', {uid: job, hashrate: (Math.round(rate * 100) / 100)});\r\n    }\r\n\r\n    if (block) {\r\n      ipfs.pubsub.publish('block-added', new Buffer(JSON.stringify(block)));\r\n      console.log(`${job}::Whooooop mined block ${block.index}`);\r\n      if (this.mining) {\r\n        await this.onBlockAdded();\r\n        this.mine(job, block);\r\n      }\r\n    } else {\r\n      console.log(`${job}::cancelled mining block ${index}`);\r\n      if (this.mining) this.mine(job);\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * Mine a block in separate process\r\n   *\r\n   * @param transactions Transactions list to add to the block\r\n   * @param lastBlock Last block in the blockchain\r\n   * @param difficulty Current difficulty\r\n   * @param address Addres for reward transaction\r\n   * @return {*}\r\n   */\r\n  async mineBlock(difficulty, address, job) {\r\n    const block = await nextBlock(address);\r\n    console.log(`${job}::Started mining block ${block.index}`);\r\n\r\n    return this.findBlockHash(block, difficulty);\r\n  }\r\n\r\n  /**\r\n   * Find block hash according to difficulty\r\n   *\r\n   * @param block\r\n   * @param difficulty\r\n   * @return {Promise}\r\n   */\r\n  findBlockHash (block, difficulty) {\r\n    return new Promise((resolve, reject) => {\r\n      const worker = fork(this.workerPath);\r\n      /*\r\n       * Create worker to find hash in separate process\r\n       */\r\n\r\n\r\n       /*\r\n        * Hadnle events to stop mining when needed\r\n        */\r\n      this.mineStop = () => {\r\n       removeListeners()\r\n       worker.kill('SIGINT')\r\n       resolve({block: null, hashCount: null, index: block.index});\r\n      }\r\n\r\n      // Listeners for stopping mining\r\n      const blockAddedListener = b => {\r\n        if (b.index >= block.index) this.mineStop()\r\n      }\r\n      const mineStopListener = b => this.mineStop\r\n      const removeListeners = () => {\r\n       bus.removeListener('block-added', blockAddedListener)\r\n       bus.removeListener('mine-stop', mineStopListener)\r\n      }\r\n      // If other process found the same block faster, kill current one\r\n      bus.once('block-added', blockAddedListener)\r\n      bus.once('mine-stop', mineStopListener)\r\n      // const result = await minerWorker({block, difficulty})\r\n      worker.on('message', (data) => {\r\n        removeListeners();\r\n\r\n        resolve({block: data.block, hashes: data.hashCount});\r\n        worker.kill('SIGINT');\r\n      })\r\n      worker.send({block, difficulty});\r\n\r\n    });\r\n  }\r\n\r\n}\r\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/miner.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 132,
    "kind": "variable",
    "name": "ipfs",
    "memberof": "src/lib/miner.js",
    "static": true,
    "longname": "src/lib/miner.js~ipfs",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/miner.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true
  },
  {
    "__docId__": 133,
    "kind": "class",
    "name": "Miner",
    "memberof": "src/lib/miner.js",
    "static": true,
    "longname": "src/lib/miner.js~Miner",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/miner.js",
    "importStyle": "Miner",
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "interface": false,
    "extends": [
      "crypto-store~StoreHandler"
    ]
  },
  {
    "__docId__": 134,
    "kind": "get",
    "name": "donationAddress",
    "memberof": "src/lib/miner.js~Miner",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/miner.js~Miner#donationAddress",
    "access": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true
  },
  {
    "__docId__": 135,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/lib/miner.js~Miner",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/miner.js~Miner#constructor",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true
  },
  {
    "__docId__": 136,
    "kind": "member",
    "name": "workerPath",
    "memberof": "src/lib/miner.js~Miner",
    "static": false,
    "longname": "src/lib/miner.js~Miner#workerPath",
    "access": null,
    "description": null,
    "lineNumber": 21,
    "undocument": true
  },
  {
    "__docId__": 137,
    "kind": "member",
    "name": "address",
    "memberof": "src/lib/miner.js~Miner",
    "static": false,
    "longname": "src/lib/miner.js~Miner#address",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true
  },
  {
    "__docId__": 138,
    "kind": "member",
    "name": "running",
    "memberof": "src/lib/miner.js~Miner",
    "static": false,
    "longname": "src/lib/miner.js~Miner#running",
    "access": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true
  },
  {
    "__docId__": 139,
    "kind": "method",
    "name": "onBlockAdded",
    "memberof": "src/lib/miner.js~Miner",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/miner.js~Miner#onBlockAdded",
    "access": null,
    "description": "keep node(s) in sync",
    "lineNumber": 37
  },
  {
    "__docId__": 140,
    "kind": "member",
    "name": "_onBlockAdded",
    "memberof": "src/lib/miner.js~Miner",
    "static": false,
    "longname": "src/lib/miner.js~Miner#_onBlockAdded",
    "access": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true
  },
  {
    "__docId__": 141,
    "kind": "member",
    "name": "_onBlockInvalid",
    "memberof": "src/lib/miner.js~Miner",
    "static": false,
    "longname": "src/lib/miner.js~Miner#_onBlockInvalid",
    "access": null,
    "description": null,
    "lineNumber": 45,
    "undocument": true
  },
  {
    "__docId__": 142,
    "kind": "method",
    "name": "start",
    "memberof": "src/lib/miner.js~Miner",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/miner.js~Miner#start",
    "access": null,
    "description": null,
    "lineNumber": 57,
    "undocument": true
  },
  {
    "__docId__": 143,
    "kind": "member",
    "name": "mining",
    "memberof": "src/lib/miner.js~Miner",
    "static": false,
    "longname": "src/lib/miner.js~Miner#mining",
    "access": null,
    "description": null,
    "lineNumber": 59,
    "undocument": true
  },
  {
    "__docId__": 144,
    "kind": "method",
    "name": "stop",
    "memberof": "src/lib/miner.js~Miner",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/miner.js~Miner#stop",
    "access": null,
    "description": null,
    "lineNumber": 63,
    "undocument": true
  },
  {
    "__docId__": 146,
    "kind": "method",
    "name": "mine",
    "memberof": "src/lib/miner.js~Miner",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/miner.js~Miner#mine",
    "access": null,
    "description": null,
    "lineNumber": 68,
    "undocument": true
  },
  {
    "__docId__": 147,
    "kind": "method",
    "name": "mineBlock",
    "memberof": "src/lib/miner.js~Miner",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/miner.js~Miner#mineBlock",
    "access": null,
    "description": "Mine a block in separate process",
    "lineNumber": 103,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "transactions",
        "description": "Transactions list to add to the block"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "lastBlock",
        "description": "Last block in the blockchain"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "difficulty",
        "description": "Current difficulty"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "address",
        "description": "Addres for reward transaction"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "*"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 148,
    "kind": "method",
    "name": "findBlockHash",
    "memberof": "src/lib/miner.js~Miner",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/miner.js~Miner#findBlockHash",
    "access": null,
    "description": "Find block hash according to difficulty",
    "lineNumber": 117,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "block",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "difficulty",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 149,
    "kind": "member",
    "name": "mineStop",
    "memberof": "src/lib/miner.js~Miner",
    "static": false,
    "longname": "src/lib/miner.js~Miner#mineStop",
    "access": null,
    "description": null,
    "lineNumber": 128,
    "undocument": true
  },
  {
    "__docId__": 150,
    "kind": "file",
    "name": "src/lib/multi-hd-signature.js",
    "content": "import { encode, decode } from 'bs58';\nimport HDWallet from './hd-wallet';\nimport bigi from 'bigi';\n\nexport default class MultiSignature {\n\tset encoded(value) {\n\t\tthis._encoded = value;\n\t}\n\n\tset decoded(value) {\n\t\tthis._decoded = value;\n\t}\n\n\tget encoded() {\n\t\treturn this._encoded || this.encode();\n\t}\n\n\tget decoded() {\n\t\treturn this._decoded || this.decode();\n\t}\n\n\tconstructor(signature, version = 0x00, multiCodec) {\n\t\tif (typeof signature === 'string') {\n\t\t\tthis.encoded = signature;\n\t\t} else if (typeof signature === 'object') {\n\t\t\tthis.decoded = {\n\t\t\t\tr: signature.r,\n\t\t\t\ts: signature.s\n\t\t\t};\n\t\t}\n\t\tthis.version = version;\n\t\tthis.multiCodec = multiCodec;\n\t}\n\n\texport() {\n\t\treturn this.encoded;\n\t}\n\n\timport() {\n\t\tthis.decode();\n\t}\n\n\tencode() {\n\t\tconst buffer = Buffer.concat([\n\t\t\tBuffer.from(this.version.toString()),\n\t\t\tBuffer.from(this.multiCodec.toString()),\n\t\t\tthis.decoded.r.toBuffer(),\n\t\t\tthis.decoded.s.toBuffer()\n\t\t]);\n\t\treturn encode(buffer);\n\t}\n\n\tdecode() {\n\t\tconst buffer = decode(this.encoded);\n\t\tconst version = parseInt(buffer.slice(0, 1));\n\t\tconst codec = parseInt(buffer.slice(1, 5));\n\t\tconst signature = buffer.slice(5, buffer.length);\n\t\tif (version !== this.version) throw TypeError('Invalid version');\n\t\tif (this.multiCodec !== codec) throw TypeError('Invalid multiCodec');\n  \tconst r = signature.slice(0, signature.length / 2);\n  \tconst s = signature.slice((signature.length / 2), signature.length);\n  \treturn {\n\t\t\tr: bigi.fromBuffer(r),\n\t\t\ts: bigi.fromBuffer(s)\n\t\t};\n\t}\n}\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/multi-hd-signature.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 151,
    "kind": "class",
    "name": "MultiSignature",
    "memberof": "src/lib/multi-hd-signature.js",
    "static": true,
    "longname": "src/lib/multi-hd-signature.js~MultiSignature",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/multi-hd-signature.js",
    "importStyle": "MultiSignature",
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 152,
    "kind": "set",
    "name": "encoded",
    "memberof": "src/lib/multi-hd-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-signature.js~MultiSignature#encoded",
    "access": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true
  },
  {
    "__docId__": 153,
    "kind": "member",
    "name": "_encoded",
    "memberof": "src/lib/multi-hd-signature.js~MultiSignature",
    "static": false,
    "longname": "src/lib/multi-hd-signature.js~MultiSignature#_encoded",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 154,
    "kind": "set",
    "name": "decoded",
    "memberof": "src/lib/multi-hd-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-signature.js~MultiSignature#decoded",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true
  },
  {
    "__docId__": 155,
    "kind": "member",
    "name": "_decoded",
    "memberof": "src/lib/multi-hd-signature.js~MultiSignature",
    "static": false,
    "longname": "src/lib/multi-hd-signature.js~MultiSignature#_decoded",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true
  },
  {
    "__docId__": 156,
    "kind": "get",
    "name": "encoded",
    "memberof": "src/lib/multi-hd-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-signature.js~MultiSignature#encoded",
    "access": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true
  },
  {
    "__docId__": 157,
    "kind": "get",
    "name": "decoded",
    "memberof": "src/lib/multi-hd-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-signature.js~MultiSignature#decoded",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true
  },
  {
    "__docId__": 158,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/lib/multi-hd-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-signature.js~MultiSignature#constructor",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true
  },
  {
    "__docId__": 161,
    "kind": "member",
    "name": "version",
    "memberof": "src/lib/multi-hd-signature.js~MultiSignature",
    "static": false,
    "longname": "src/lib/multi-hd-signature.js~MultiSignature#version",
    "access": null,
    "description": null,
    "lineNumber": 31,
    "undocument": true
  },
  {
    "__docId__": 162,
    "kind": "member",
    "name": "multiCodec",
    "memberof": "src/lib/multi-hd-signature.js~MultiSignature",
    "static": false,
    "longname": "src/lib/multi-hd-signature.js~MultiSignature#multiCodec",
    "access": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true
  },
  {
    "__docId__": 163,
    "kind": "method",
    "name": "export",
    "memberof": "src/lib/multi-hd-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-signature.js~MultiSignature#export",
    "access": null,
    "description": null,
    "lineNumber": 35,
    "undocument": true
  },
  {
    "__docId__": 164,
    "kind": "method",
    "name": "import",
    "memberof": "src/lib/multi-hd-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-signature.js~MultiSignature#import",
    "access": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true
  },
  {
    "__docId__": 165,
    "kind": "method",
    "name": "encode",
    "memberof": "src/lib/multi-hd-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-signature.js~MultiSignature#encode",
    "access": null,
    "description": null,
    "lineNumber": 43,
    "undocument": true
  },
  {
    "__docId__": 166,
    "kind": "method",
    "name": "decode",
    "memberof": "src/lib/multi-hd-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-signature.js~MultiSignature#decode",
    "access": null,
    "description": null,
    "lineNumber": 53,
    "undocument": true
  },
  {
    "__docId__": 167,
    "kind": "file",
    "name": "src/lib/multi-hd-wallet.js",
    "content": "import { encode, decode } from 'bs58';\nimport HDWallet from './hd-wallet';\nimport MultiSignature from 'multi-signature';\n\nexport default class MultiHDWallet extends HDWallet {\n\tconstructor(network, hdnode) {\n\t\tsuper(network, hdnode);\n\t\tthis.multiCodec = this.network.multiCodec;\n\t\tthis.version = 0x00;\n\t}\n\n\tget privateKey() {\n\t\treturn this.save();\n\t}\n\n\tget publicKeyBuffer() {\n\t\treturn this.hdnode.neutered().getPublicKeyBuffer();\n\t}\n\n\tget publicKey() {\n\t\treturn this.hdnode.neutered().toBase58();\n\t}\n\n\tget address() {\n\t\treturn this.hdnode.getAddress();\n\t}\n\n\texport() {\n\t\treturn this.encode();\n\t}\n\n\timport(multiWIF) {\n\t\tconst buffer = this.decode(multiWIF);\n\t\tthis.load(encode(buffer));\n\t}\n\n\tencode() {\n\t\tconst base58 = this.save();\n\t\tconst buffer = Buffer.concat([\n\t\t\tBuffer.from(this.version.toString()),\n\t\t\tBuffer.from(this.multiCodec.toString()),\n\t\t\tBuffer.from(decode(base58))\n\t\t]);\n\t\treturn encode(buffer);\n\t}\n\n\tdecode(base58) {\n\t\tconst buffer = decode(base58);\n\t\tconst version = parseInt(buffer.slice(0, 1));\n\t\tconst codec = parseInt(buffer.slice(1, 5));\n\t\tconst data = buffer.slice(5, buffer.length);\n\t\tif (version !== this.version) throw TypeError('Invalid version');\n\t\tif (this.multiCodec !== codec) throw TypeError('Invalid multiCodec');\n\t\treturn data;\n\t}\n\n\tsign(hash, address) {\n\t\tif (!address) {\n\t\t\taddress = this.address;\n\t\t}\n\t\treturn new MultiSignature(this.version, this.network.multiCodec)\n\t\t\t.sign(hash, address);\n\t}\n\n\tverify(multiSignature, hash, address) {\n\t\treturn new MultiSignature(this.version, this.network.multiCodec)\n\t\t\t.verify(multiSignature, hash, address);\n\t}\n\n\tderive(path) {\n\t\treturn new MultiHDWallet(this.network, this.hdnode.derivePath(path));\n\t}\n}\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/multi-hd-wallet.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 168,
    "kind": "class",
    "name": "MultiHDWallet",
    "memberof": "src/lib/multi-hd-wallet.js",
    "static": true,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/multi-hd-wallet.js",
    "importStyle": "MultiHDWallet",
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "interface": false,
    "extends": [
      "src/lib/hd-wallet.js~HDWallet"
    ]
  },
  {
    "__docId__": 169,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet#constructor",
    "access": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true
  },
  {
    "__docId__": 170,
    "kind": "member",
    "name": "multiCodec",
    "memberof": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "static": false,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet#multiCodec",
    "access": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true
  },
  {
    "__docId__": 171,
    "kind": "member",
    "name": "version",
    "memberof": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "static": false,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet#version",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true
  },
  {
    "__docId__": 172,
    "kind": "get",
    "name": "privateKey",
    "memberof": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet#privateKey",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true
  },
  {
    "__docId__": 173,
    "kind": "get",
    "name": "publicKeyBuffer",
    "memberof": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet#publicKeyBuffer",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true
  },
  {
    "__docId__": 174,
    "kind": "get",
    "name": "publicKey",
    "memberof": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet#publicKey",
    "access": null,
    "description": null,
    "lineNumber": 20,
    "undocument": true
  },
  {
    "__docId__": 175,
    "kind": "get",
    "name": "address",
    "memberof": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet#address",
    "access": null,
    "description": null,
    "lineNumber": 24,
    "undocument": true
  },
  {
    "__docId__": 176,
    "kind": "method",
    "name": "export",
    "memberof": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet#export",
    "access": null,
    "description": null,
    "lineNumber": 28,
    "undocument": true
  },
  {
    "__docId__": 177,
    "kind": "method",
    "name": "import",
    "memberof": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet#import",
    "access": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true
  },
  {
    "__docId__": 178,
    "kind": "method",
    "name": "encode",
    "memberof": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet#encode",
    "access": null,
    "description": null,
    "lineNumber": 37,
    "undocument": true
  },
  {
    "__docId__": 179,
    "kind": "method",
    "name": "decode",
    "memberof": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet#decode",
    "access": null,
    "description": null,
    "lineNumber": 47,
    "undocument": true
  },
  {
    "__docId__": 180,
    "kind": "method",
    "name": "sign",
    "memberof": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet#sign",
    "access": null,
    "description": null,
    "lineNumber": 57,
    "undocument": true
  },
  {
    "__docId__": 181,
    "kind": "method",
    "name": "verify",
    "memberof": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet#verify",
    "access": null,
    "description": null,
    "lineNumber": 65,
    "undocument": true
  },
  {
    "__docId__": 182,
    "kind": "method",
    "name": "derive",
    "memberof": "src/lib/multi-hd-wallet.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/multi-hd-wallet.js~MultiHDWallet#derive",
    "access": null,
    "description": null,
    "lineNumber": 70,
    "undocument": true
  },
  {
    "__docId__": 183,
    "kind": "file",
    "name": "src/lib/network/ipfs-mock.js",
    "content": "import IPFS from 'ipfs-api';\r\nconst ipfs = new IPFS();\n\r\nexport const config = {\r\n\tget: property => ipfs.config.get(property),\r\n\tset: (property, value) => ipfs.config.set(property, value),\r\n};\r\n\r\nexport const swarm = {\r\n\tpeers: () => ipfs.swarm.peers(),\r\n\tconnect: addresses => new Promise(async (resolve, reject) => {\r\n\t\ttry {\r\n      for (const addr of addresses) {\r\n        await ipfs.swarm.connect(addr);\r\n      }\r\n\r\n  \t\tresolve();\r\n    } catch (e) {\r\n      reject(e)\r\n    }\r\n\t})\r\n};\r\n\r\nexport const pubsub = {\r\n\tsubscribe: (channel, cb) => ipfs.pubsub.subscribe(channel, cb),\r\n\tpublish: (channel, cb) => ipfs.pubsub.publish(channel, cb)\r\n};\r\n\r\nexport const name = {\r\n\tresolve: multihash => ipfs.name.resolve(multihash),\r\n\tpublish: multihash => ipfs.name.publish(multihash)\r\n};\r\n\r\nexport const id = () => ipfs.id();\r\n\r\nexport default {\r\n\tid,\r\n\tswarm,\r\n\tconfig,\r\n\tpubsub\r\n};\r\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/network/ipfs-mock.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 184,
    "kind": "variable",
    "name": "ipfs",
    "memberof": "src/lib/network/ipfs-mock.js",
    "static": true,
    "longname": "src/lib/network/ipfs-mock.js~ipfs",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/network/ipfs-mock.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true
  },
  {
    "__docId__": 185,
    "kind": "variable",
    "name": "config",
    "memberof": "src/lib/network/ipfs-mock.js",
    "static": true,
    "longname": "src/lib/network/ipfs-mock.js~config",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/network/ipfs-mock.js",
    "importStyle": "{config}",
    "description": null,
    "lineNumber": 4,
    "undocument": true
  },
  {
    "__docId__": 186,
    "kind": "variable",
    "name": "swarm",
    "memberof": "src/lib/network/ipfs-mock.js",
    "static": true,
    "longname": "src/lib/network/ipfs-mock.js~swarm",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/network/ipfs-mock.js",
    "importStyle": "{swarm}",
    "description": null,
    "lineNumber": 9,
    "undocument": true
  },
  {
    "__docId__": 187,
    "kind": "variable",
    "name": "pubsub",
    "memberof": "src/lib/network/ipfs-mock.js",
    "static": true,
    "longname": "src/lib/network/ipfs-mock.js~pubsub",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/network/ipfs-mock.js",
    "importStyle": "{pubsub}",
    "description": null,
    "lineNumber": 24,
    "undocument": true
  },
  {
    "__docId__": 188,
    "kind": "variable",
    "name": "name",
    "memberof": "src/lib/network/ipfs-mock.js",
    "static": true,
    "longname": "src/lib/network/ipfs-mock.js~name",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/network/ipfs-mock.js",
    "importStyle": "{name}",
    "description": null,
    "lineNumber": 29,
    "undocument": true
  },
  {
    "__docId__": 189,
    "kind": "function",
    "name": "id",
    "memberof": "src/lib/network/ipfs-mock.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/network/ipfs-mock.js~id",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/network/ipfs-mock.js",
    "importStyle": "{id}",
    "description": null,
    "lineNumber": 34,
    "undocument": true
  },
  {
    "__docId__": 190,
    "kind": "file",
    "name": "src/lib/network/ipfs-star.js",
    "content": "import { encode } from 'bs58';\nimport { netPrefix } from './../../params'\n// TODO: rename to client\nglobal.peerset = new Map();\n/**\n * removes peer from peerset\n */\nconst peerdisconnect = message => {\n  global.peerset.delete(message.from);\n}\n\n/**\n * removes peer from peerset\n */\nconst peerconnect = message => {\n  global.peerset.set(message.from, message.data.toString());\n}\n\n/**\n * @param {method} options.subscribe pubsub subscriber\n * @param {method} options.publish pubsub publisher\n */\nexport default (address, pubsub) => {\n\tif (!pubsub && !global.ipfs) throw Error('pubsub client not found');\n\telse if (!pubsub && global.ipfs) pubsub = global.ipfs.pubsub;\n\tconst {subscribe, publish, unsubscribe} = pubsub;\n  const peers = message => {\n    subscribe(encode(Buffer.from(`${netPrefix}peernet-peer-connect`)), peerconnect);\n    JSON.parse(message.data.toString()).forEach(peer => {\n      peerset.set(peer[0], peer[1]);\n    })\n  \tunsubscribe(encode(Buffer.from(`${netPrefix}peernet-peers`)), () => {});\n  };\n\tsubscribe(encode(Buffer.from(`${netPrefix}peernet-peers`)), peers);\n  subscribe(encode(Buffer.from(`${netPrefix}peernet-peer-disconnect`)), peerdisconnect);\n  // let the network know there is a new peer\n\tsetTimeout(function () {\n    publish(encode(Buffer.from(`${netPrefix}peernet`)), new Buffer(address));\n  }, 500);\n\treturn {\n\t\tstop: async () => {\n\t    publish(encode(Buffer.from(`${netPrefix}peernet-peer-disconnect`)), Buffer(address));\n\t\t},\n    peers: () => peerset\n\t};\n};\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/network/ipfs-star.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 191,
    "kind": "function",
    "name": "peerdisconnect",
    "memberof": "src/lib/network/ipfs-star.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/network/ipfs-star.js~peerdisconnect",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/network/ipfs-star.js",
    "importStyle": null,
    "description": "removes peer from peerset",
    "lineNumber": 8
  },
  {
    "__docId__": 192,
    "kind": "function",
    "name": "peerconnect",
    "memberof": "src/lib/network/ipfs-star.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/network/ipfs-star.js~peerconnect",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/network/ipfs-star.js",
    "importStyle": null,
    "description": "removes peer from peerset",
    "lineNumber": 15
  },
  {
    "__docId__": 193,
    "kind": "function",
    "name": "ipfsstar",
    "memberof": "src/lib/network/ipfs-star.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/network/ipfs-star.js~ipfsstar",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/network/ipfs-star.js",
    "importStyle": "ipfsstar",
    "description": "",
    "lineNumber": 23,
    "params": [
      {
        "nullable": null,
        "types": [
          "method"
        ],
        "spread": false,
        "optional": false,
        "name": "options.subscribe",
        "description": "pubsub subscriber"
      },
      {
        "nullable": null,
        "types": [
          "method"
        ],
        "spread": false,
        "optional": false,
        "name": "options.publish",
        "description": "pubsub publisher"
      }
    ]
  },
  {
    "__docId__": 194,
    "kind": "file",
    "name": "src/lib/network/peernet.js",
    "content": "import { debug, fail, succes } from './../../utils';\r\nimport bus from './../bus';\r\nimport { join } from 'path';\r\nimport { seeds, signalServers } from '../../params';\r\nimport { DAGNode } from 'ipld-dag-pb';\r\nimport { encode } from 'bs58';\r\nconst { promisify } = require('util');\r\nimport ipfs from './ipfs-mock';\r\n\r\n// TODO: create bootstrap according peer reputation ...\r\nconst handleDefaultBootstrapAddresses = async addresses => {\r\n  try {\r\n    let bootstrap = await ipfs.config.get('Bootstrap');\r\n    // const peers = await ipfs.swarm.peers();\r\n    // peers.forEach(peer => console.log(peer.peer.toB58String()))\r\n    // addresses.forEach(address => !bootstrap.indexOf(address) )\r\n    for (const peer of addresses) {\r\n      for (const address of bootstrap) {\r\n        if (addresses.indexOf(address) === -1) {\r\n          const index = bootstrap.indexOf(address);\r\n          bootstrap = bootstrap.slice(index, 0);\r\n        }\r\n      }\r\n\r\n      for (const address of addresses) {\r\n        if (bootstrap.indexOf(address) === -1) {\r\n          bootstrap.push(address);\r\n        }\r\n      }\r\n    }\r\n\r\n    await ipfs.config.set('Bootstrap', bootstrap);\r\n    return 0;\r\n  } catch (error) {\r\n    return 1;\r\n  }\r\n}\r\n\r\nlet done = false;\r\nlet runs = 0;\r\nexport const resolvePeers = () => new Promise(resolve => {\r\n  if (runs === 5) {\r\n    debug('searched for peers but none found, returning empty array');\n    runs = 0;\r\n    return resolve([]);\r\n  }\r\n  const resolves = peers => {\r\n    done = true;\n    runs = 0;\r\n    resolve(peers);\r\n  }\r\n  ipfs.swarm.peers().then(peers => resolves(peers));\r\n  runs++;\r\n  if (!done) setTimeout(() => resolvePeers().then(peers => resolves(peers)), 1000);\r\n})\r\n\r\nexport const _connect = async addresses =>\r\n  new Promise(async (resolve, reject) => {\n    // TODO: ignore address after 5 times\r\n    try {\r\n      await ipfs.swarm.connect(addresses);\r\n      resolve();\r\n    } catch (e) {\r\n      fail(e.message);\r\n      debug('trying again');\r\n      return setTimeout(async () => await _connect(addresses).then(() => resolve()), 1000);\r\n    }\r\n  });\nexport const connectBootstrap = async addresses => {\n  bus.emit('connecting', true);\n  debug('connecting bootsrap peers');\n\n  await _connect(signalServers);\n\n  succes(`connected to ${signalServers.length} bootstrap peer(s)`);\n}\r\nexport const connect = (addresses = []) => new Promise(async (resolve, reject) => {\r\n  try {\r\n    bus.emit('connecting', true);\r\n    debug('connecting peers');\n    // await handleDefaultBootstrapAddresses(addresses);\r\n    const { id } = await ipfs.id();\r\n    // TODO: filter using peerrep\r\n    const peers = await resolvePeers();\n    // transform peers into valid ipfs addresses\n    const addrs = peers.map(({addr, peer}) => `${addr.toString()}/ipfs/${peer.toB58String()}`);\r\n    // if (peers && peers.length === 0) peers = addresses;\r\n\n    await _connect(addrs);\n    \r\n    succes(`connected to ${addrs.length} peer(s)`);\r\n\r\n    ipfs.pubsub.subscribe('peer-connected', event => {\r\n      // TODO: update reputations\r\n      if (event.from !== id) console.log(event); // announcepeer\r\n    });\r\n    ipfs.pubsub.publish('peer-connected', new Buffer(id));\r\n    bus.emit('connecting', false);\r\n    resolve();\r\n  } catch (e) {\r\n    reject(e)\r\n  }\r\n})\r\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/network/peernet.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 195,
    "kind": "variable",
    "name": "promisify",
    "memberof": "src/lib/network/peernet.js",
    "static": true,
    "longname": "src/lib/network/peernet.js~promisify",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/network/peernet.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 196,
    "kind": "function",
    "name": "handleDefaultBootstrapAddresses",
    "memberof": "src/lib/network/peernet.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/lib/network/peernet.js~handleDefaultBootstrapAddresses",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/network/peernet.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true
  },
  {
    "__docId__": 197,
    "kind": "variable",
    "name": "done",
    "memberof": "src/lib/network/peernet.js",
    "static": true,
    "longname": "src/lib/network/peernet.js~done",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/network/peernet.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true
  },
  {
    "__docId__": 198,
    "kind": "variable",
    "name": "runs",
    "memberof": "src/lib/network/peernet.js",
    "static": true,
    "longname": "src/lib/network/peernet.js~runs",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/network/peernet.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 40,
    "undocument": true
  },
  {
    "__docId__": 199,
    "kind": "function",
    "name": "resolvePeers",
    "memberof": "src/lib/network/peernet.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/network/peernet.js~resolvePeers",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/network/peernet.js",
    "importStyle": "{resolvePeers}",
    "description": null,
    "lineNumber": 41,
    "undocument": true
  },
  {
    "__docId__": 200,
    "kind": "function",
    "name": "_connect",
    "memberof": "src/lib/network/peernet.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/lib/network/peernet.js~_connect",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/network/peernet.js",
    "importStyle": "{_connect}",
    "description": null,
    "lineNumber": 57,
    "undocument": true
  },
  {
    "__docId__": 201,
    "kind": "function",
    "name": "connectBootstrap",
    "memberof": "src/lib/network/peernet.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/lib/network/peernet.js~connectBootstrap",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/network/peernet.js",
    "importStyle": "{connectBootstrap}",
    "description": null,
    "lineNumber": 69,
    "undocument": true
  },
  {
    "__docId__": 202,
    "kind": "function",
    "name": "connect",
    "memberof": "src/lib/network/peernet.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/network/peernet.js~connect",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/network/peernet.js",
    "importStyle": "{connect}",
    "description": null,
    "lineNumber": 77,
    "undocument": true
  },
  {
    "__docId__": 203,
    "kind": "file",
    "name": "src/lib/network/reputation.js",
    "content": "import { seeds } from '../../params';\nconst { promisify } = require('util');\n/**\n * @ignore\n */\nexport const ipfs = new IPFS();\n/**\n * @ignore\n */\nconst reputation = async () => {\n  const set = await DAGNode(seeds);\n  peers.forEach(async peer => await peerset(peer))\n}\n\n/**\n * @ignore\n */\nexport default async (peers) => {\n  const DAGNode = await ipfs.object.get(seeds);\n  DAGNode.links.forEach(async ({name, multihash}) => {\n    await ipfs.object.get();\n  });\n};\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/network/reputation.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 204,
    "kind": "variable",
    "name": "promisify",
    "memberof": "src/lib/network/reputation.js",
    "static": true,
    "longname": "src/lib/network/reputation.js~promisify",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/network/reputation.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true
  },
  {
    "__docId__": 205,
    "kind": "variable",
    "name": "ipfs",
    "memberof": "src/lib/network/reputation.js",
    "static": true,
    "longname": "src/lib/network/reputation.js~ipfs",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/network/reputation.js",
    "importStyle": "{ipfs}",
    "description": "",
    "lineNumber": 6,
    "ignore": true
  },
  {
    "__docId__": 206,
    "kind": "function",
    "name": "reputation",
    "memberof": "src/lib/network/reputation.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/lib/network/reputation.js~reputation",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/network/reputation.js",
    "importStyle": null,
    "description": "",
    "lineNumber": 10,
    "ignore": true
  },
  {
    "__docId__": 207,
    "kind": "function",
    "name": "reputation",
    "memberof": "src/lib/network/reputation.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/lib/network/reputation.js~reputation",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/network/reputation.js",
    "importStyle": "reputation",
    "description": "",
    "lineNumber": 18,
    "ignore": true
  },
  {
    "__docId__": 208,
    "kind": "file",
    "name": "src/lib/network/secure-client-connection.js",
    "content": "import io from 'socket.io-client';\r\nimport EventEmitter from 'events';\r\nimport ecdh from 'crypto-ecdh';\r\nimport { exists, write } from 'crypto-io-fs';\r\nimport { seed, netKeyPath } from './../../params';\r\n// TODO: hardcoded swarm key?\r\n// TODO: replace with websocket\r\n\r\nexport const initConnection = new Promise((resolve, reject) => {\r\n  const socket = io(seed);\r\n\r\n  socket.on('handshake', pubKey => {\r\n    const pair = ecdh('hex');\r\n    pair.derive(pubKey);\r\n\r\n    // start a new secure connection using ECDH\r\n    new SecureClientConnection(socket, pair).on('connected', connection => resolve(connection));\r\n  });\r\n});\r\n\r\nclass SecureClientConnection extends EventEmitter {\r\n  constructor(socket, pair) {\r\n    super();\r\n    // declare properties\r\n    this.id = socket.id;\r\n    this.pair = pair;\r\n    this.socket = socket;\r\n    // bind methods\r\n    this.handshake = this.handshake.bind(this);\r\n    // init listeners & emitters\r\n    this.shake();\r\n  }\r\n\r\n  requestKey() {\r\n    return new Promise((resolve, reject) => {\r\n      this.socket.on('_request-key', key => {\r\n        resolve(key);\r\n      });\r\n      this.socket.emit('request-key');\r\n    });\r\n  }\r\n\r\n  async shake() {\r\n    this.socket.on('secure-connection', this.handshake);\r\n    this.socket.emit('_handshake', this.pair.public);\r\n  }\r\n\r\n  async handshake(cipher) {\r\n    const key = await this.pair.decrypt(cipher);\r\n    // get a new pair\r\n    const pair = ecdh('hex');\r\n    // encrypt our new key\r\n    cipher = await this.pair.encrypt(pair.public);\r\n    this.pair = pair;\r\n    this.pair.derive(key);\r\n\r\n    this.socket.on('network', async cipher => {\r\n      const address = await this.pair.decrypt(cipher);\r\n      if (!exists(netKeyPath)) {\r\n        cipher = await this.requestKey();\r\n        const key = await this.pair.decrypt(cipher);\r\n        await write(netKeyPath, key);\r\n      }\r\n      this.emit('connected', {address});\r\n    });\r\n    this.socket.on('address', data => console.log(data));\r\n    this.socket.emit('_secure-connection', cipher.toString());\r\n  }\r\n}\r\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/network/secure-client-connection.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 209,
    "kind": "variable",
    "name": "initConnection",
    "memberof": "src/lib/network/secure-client-connection.js",
    "static": true,
    "longname": "src/lib/network/secure-client-connection.js~initConnection",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/network/secure-client-connection.js",
    "importStyle": "{initConnection}",
    "description": null,
    "lineNumber": 9,
    "undocument": true
  },
  {
    "__docId__": 210,
    "kind": "class",
    "name": "SecureClientConnection",
    "memberof": "src/lib/network/secure-client-connection.js",
    "static": true,
    "longname": "src/lib/network/secure-client-connection.js~SecureClientConnection",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/network/secure-client-connection.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "interface": false,
    "extends": [
      "events~EventEmitter"
    ]
  },
  {
    "__docId__": 211,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/lib/network/secure-client-connection.js~SecureClientConnection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/network/secure-client-connection.js~SecureClientConnection#constructor",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true
  },
  {
    "__docId__": 212,
    "kind": "member",
    "name": "id",
    "memberof": "src/lib/network/secure-client-connection.js~SecureClientConnection",
    "static": false,
    "longname": "src/lib/network/secure-client-connection.js~SecureClientConnection#id",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true
  },
  {
    "__docId__": 213,
    "kind": "member",
    "name": "pair",
    "memberof": "src/lib/network/secure-client-connection.js~SecureClientConnection",
    "static": false,
    "longname": "src/lib/network/secure-client-connection.js~SecureClientConnection#pair",
    "access": null,
    "description": null,
    "lineNumber": 26,
    "undocument": true
  },
  {
    "__docId__": 214,
    "kind": "member",
    "name": "socket",
    "memberof": "src/lib/network/secure-client-connection.js~SecureClientConnection",
    "static": false,
    "longname": "src/lib/network/secure-client-connection.js~SecureClientConnection#socket",
    "access": null,
    "description": null,
    "lineNumber": 27,
    "undocument": true
  },
  {
    "__docId__": 216,
    "kind": "method",
    "name": "requestKey",
    "memberof": "src/lib/network/secure-client-connection.js~SecureClientConnection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/network/secure-client-connection.js~SecureClientConnection#requestKey",
    "access": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true
  },
  {
    "__docId__": 217,
    "kind": "method",
    "name": "shake",
    "memberof": "src/lib/network/secure-client-connection.js~SecureClientConnection",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/network/secure-client-connection.js~SecureClientConnection#shake",
    "access": null,
    "description": null,
    "lineNumber": 43,
    "undocument": true
  },
  {
    "__docId__": 218,
    "kind": "method",
    "name": "handshake",
    "memberof": "src/lib/network/secure-client-connection.js~SecureClientConnection",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/lib/network/secure-client-connection.js~SecureClientConnection#handshake",
    "access": null,
    "description": null,
    "lineNumber": 48,
    "undocument": true
  },
  {
    "__docId__": 220,
    "kind": "file",
    "name": "src/lib/networks.js",
    "content": "// https://en.bitcoin.it/wiki/List_of_address_prefixes\n// Dogecoin BIP32 is a proposed standard: https://bitcointalk.org/index.php?topic=409731\n\n/**\n * Main network\n * @return {messagePrefix, pubKeyHash, scriptHash, wif, bip32}\n */\nconst leofcoin = {\n\tmessagePrefix: '\\u0019Leofcoin Signed Message:',\n\tpubKeyHash: 0x30, // L\n\tscriptHash: 0x37, // P\n\twif: 0x3F, // S\n\tmultiCodec: 0x3c4,\n\tbip32: { public: 0x13BBF2D4, private: 0x13BBCBC4 }\n};\n\n/**\n * Tesnet\n * @return {messagePrefix, pubKeyHash, scriptHash, wif, bip32}\n */\nconst olivia = {\n\tmessagePrefix: '\\u0019Leofcoin Signed Message:',\n\tpubKeyHash: 0x73, // o\n\tscriptHash: 0x76, // p\n\twif: 0x7D, // s\n\tmultiCodec: 0x7c4,\n\tbip32: { public: 0x13BBF2D5, private: 0x13BBCBC5 }\n};\n\nconst bitcoin = {\n\tmessagePrefix: '\\x18Bitcoin Signed Message:\\n',\n\tbech32: 'bc',\n\tpubKeyHash: 0x00,\n\tscriptHash: 0x05,\n\twif: 0x80,\n\tbip32: {\n\t\tpublic: 0x0488b21e, private: 0x0488ade4\n\t}\n};\n\nconst testnet = {\n\tmessagePrefix: '\\x18Bitcoin Signed Message:\\n',\n\tbech32: 'tb',\n\tpubKeyHash: 0x6f,\n\tscriptHash: 0xc4,\n\twif: 0xef,\n\tbip32: {\n\t\tpublic: 0x043587cf,\n\t\tprivate: 0x04358394\n\t}\n};\n\nconst litecoin = {\n\tmessagePrefix: '\\x19Litecoin Signed Message:\\n',\n\tpubKeyHash: 0x30,\n\tscriptHash: 0x32,\n\twif: 0xb0,\n\tbip32: {\n\t\tpublic: 0x019da462,\n\t\tprivate: 0x019d9cfe\n\t}\n};\n\n/**\n * Our & supported networks\n * @return {leofcoin, olivia}\n */\nexport default {\n\t// main network\n\tleofcoin,\n\t// testnet\n\tolivia,\n\tbitcoin,\n\ttestnet,\n\tlitecoin\n};\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/networks.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 221,
    "kind": "variable",
    "name": "leofcoin",
    "memberof": "src/lib/networks.js",
    "static": true,
    "longname": "src/lib/networks.js~leofcoin",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/networks.js",
    "importStyle": null,
    "description": "Main network",
    "lineNumber": 8,
    "return": {
      "nullable": null,
      "types": [
        "messagePrefix, pubKeyHash, scriptHash, wif, bip32"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 222,
    "kind": "variable",
    "name": "olivia",
    "memberof": "src/lib/networks.js",
    "static": true,
    "longname": "src/lib/networks.js~olivia",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/networks.js",
    "importStyle": null,
    "description": "Tesnet",
    "lineNumber": 21,
    "return": {
      "nullable": null,
      "types": [
        "messagePrefix, pubKeyHash, scriptHash, wif, bip32"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 223,
    "kind": "variable",
    "name": "bitcoin",
    "memberof": "src/lib/networks.js",
    "static": true,
    "longname": "src/lib/networks.js~bitcoin",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/networks.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true
  },
  {
    "__docId__": 224,
    "kind": "variable",
    "name": "testnet",
    "memberof": "src/lib/networks.js",
    "static": true,
    "longname": "src/lib/networks.js~testnet",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/networks.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 41,
    "undocument": true
  },
  {
    "__docId__": 225,
    "kind": "variable",
    "name": "litecoin",
    "memberof": "src/lib/networks.js",
    "static": true,
    "longname": "src/lib/networks.js~litecoin",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/networks.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 53,
    "undocument": true
  },
  {
    "__docId__": 226,
    "kind": "file",
    "name": "src/lib/transaction.js",
    "content": "import { config } from './../utils';\nimport params from '../params';\nimport { isValid } from 'crypto-chain-validator';\nimport { TransactionError } from './errors.js';\nimport { transactionInputHash, transactionHash } from './hash.js';\nimport {chain, mempool} from './dagchain/dagchain';\nimport { randomBytes } from 'crypto';\n// import ecdsa from 'ecdsa';\n\nimport { encode, decode } from 'bs58';\nimport { getUnspentForAddress } from './dagchain/dagchain-interface';\nimport bigi from 'bigi';\nimport ecdsa from 'bitcoinjs-lib/src/ecdsa';\nimport ECPair from 'bitcoinjs-lib/src/ecpair';\nimport ECSignature from 'bitcoinjs-lib/src/ecsignature';\nimport MultiHDWallet from './multi-hd-wallet';\nimport { network } from '../params.js';\n\n/**\n * validate transaction\n *\n * @param transaction\n * @param unspent\n */\nexport const validateTransaction = (transaction, unspent) => {\n\t// if (!isValid('transaction', transaction)) throw new TransactionError('Invalid transaction');\n\tif (transaction.hash !== transactionHash(transaction)) throw TransactionError('Invalid transaction hash');\n\tconst wallet = new MultiHDWallet(network);\n\t// TODO: versions should be handled here...\n\t// Verify each input signature\n\ttransaction.inputs.forEach(input => {\n  \tconst { signature, address } = input;\n\t\tconst hash = transactionInputHash(input);\n\t\tif (!wallet.verify(signature, hash, address))\n\t\t\tthrow TransactionError('Invalid input signature');\n\t});\n\n\t// Check if inputs are in unspent list\n\ttransaction.inputs.forEach((input) => {\n\t\tif (! unspent.find(out => out.tx === input.tx && out.index === input.index)) { throw TransactionError('Input has been already spent: ' + input.tx); }\n\t});\n\n\tif (transaction.reward) {\n\t\t// For reward transaction: check if reward output is correct\n\t\tif (transaction.outputs.length !== 1) throw TransactionError('Reward transaction must have exactly one output');\n\t\tif (transaction.outputs[0].amount !== config.reward) throw TransactionError(`Mining reward must be exactly: ${config.reward}`);\n\t} else {\n\t\t// For normal transaction: check if total output amount equals input amount\n\t\tif (transaction.inputs.reduce((acc, input) => acc + input.amount, 0) !==\n      transaction.outputs.reduce((acc, output) => acc + output.amount, 0)) { throw TransactionError('Input and output amounts do not match'); }\n\t}\n\n\treturn true;\n};\n\n/**\n * validate transactions list for current block\n *\n * @param {array} transactions\n * @param unspent\n */\nexport const validateTransactions = (transactions, unspent) => {\n\tfor (const transaction of transactions) {\n\t\tvalidateTransaction(transaction, unspent);\n\t\tif (transactions.filter(transaction => transaction.reward).length !== 1)\n\t\t\tthrow TransactionError('Transactions cannot have more than one reward');\n\t}\n};\n\n/**\n * Create transaction\n *\n * @param inputs\n * @param outputs\n * @param reward\n * @return {{id: string, reward: boolean, inputs: *, outputs: *, hash: string}}\n */\nconst newTransaction = (inputs, outputs, reward = false) => {\n\tconst tx = {\n\t\tid: randomBytes(32).toString('hex'),\n\t\ttime: Math.floor(new Date().getTime() / 1000),\n\t\treward,\n\t\tinputs,\n\t\toutputs,\n\t};\n\ttx.hash = transactionHash(tx);\n\n\treturn tx;\n};\n\nconst consensusSubsidy = height => {\n\tconst quarterlings = height / params.consensusSubsidyInterval;\n\tif (quarterlings >= 256) {\n\t\treturn 0;\n\t}\n\t//subsidy is lowered by 12.5 %, approx every year\n\tconst minus = quarterlings >= 1 ? (quarterlings * (params.reward / 256)) : 0;\n\treturn params.reward - minus;\n};\n\n/**\n * Create reward transaction for block mining\n *\n * @param {string} address\n * @return {id: string, reward: boolean, inputs: *, outputs: *, hash: string}\n */\nexport const createRewardTransaction = (address, height) => {\n\treturn newTransaction([], [{index: 0, amount: consensusSubsidy(height), address}], true);\n};\n\nconst verifySignature = (address, signature, hash) => {\n\tconst wallet = new MultiHDWallet(network);\n\treturn wallet.verify(signature, hash, address);\n};\n\n/**\n * Create and sign input\n *\n * @param transaction Based on transaction id\n * @param index Based on transaction output index\n * @param amount\n * @param wallet\n * @return {transaction, index, amount, address}\n */\nconst createInput = (tx, index, amount, wallet) => {\n\tconst input = {\n\t\ttx,\n\t\tindex,\n\t\tamount,\n\t\taddress: wallet.address,\n\t};\n\t// TODO: show notification the tx got signed\n\t// Sign transactionHash\n\tinput.signature = wallet.sign(transactionInputHash(input));\n\treturn input;\n};\n\n/**\n * Create a transaction\n *\n * @param wallet\n * @param toAddress\n * @param amount\n * @param unspent\n * @return {id, reward, inputs, outputs, hash,}\n */\nexport const buildTransaction  = (wallet, toAddress, amount) => {\n\tlet inputsAmount = 0;\n\tconst unspent = getUnspentForAddress(wallet.address);\n\tconst inputsRaw = unspent.filter(i => {\n\t\tconst more = inputsAmount < amount;\n\t\tif (more) inputsAmount += i.amount;\n\t\treturn more;\n\t});\n\tif (inputsAmount < amount) throw TransactionError('Not enough funds');\n\t// TODO: Add multiSigning\n\tconst inputs = inputsRaw.map(i => createInput(i.tx, i.index, i.amount, wallet));\n\t// Send amount to destination address\n\tconst outputs = [{index: 0, amount, address: toAddress}];\n\t// Send back change to my wallet\n\tif (inputsAmount - amount > 0) {\n\t\toutputs.push({index: 1, amount: inputsAmount - amount, address: wallet.address});\n\t}\n\n\treturn newTransaction(inputs, outputs);\n};\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/transaction.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 227,
    "kind": "function",
    "name": "validateTransaction",
    "memberof": "src/lib/transaction.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/transaction.js~validateTransaction",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/transaction.js",
    "importStyle": "{validateTransaction}",
    "description": "validate transaction",
    "lineNumber": 25,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "transaction",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "unspent",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 228,
    "kind": "function",
    "name": "validateTransactions",
    "memberof": "src/lib/transaction.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/transaction.js~validateTransactions",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/transaction.js",
    "importStyle": "{validateTransactions}",
    "description": "validate transactions list for current block",
    "lineNumber": 62,
    "params": [
      {
        "nullable": null,
        "types": [
          "array"
        ],
        "spread": false,
        "optional": false,
        "name": "transactions",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "unspent",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 229,
    "kind": "function",
    "name": "newTransaction",
    "memberof": "src/lib/transaction.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/transaction.js~newTransaction",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/transaction.js",
    "importStyle": null,
    "description": "Create transaction",
    "lineNumber": 78,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "inputs",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "outputs",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "reward",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "{id: string, reward: boolean, inputs: *, outputs: *, hash: string}"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 230,
    "kind": "function",
    "name": "consensusSubsidy",
    "memberof": "src/lib/transaction.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/transaction.js~consensusSubsidy",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/transaction.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 91,
    "undocument": true
  },
  {
    "__docId__": 231,
    "kind": "function",
    "name": "createRewardTransaction",
    "memberof": "src/lib/transaction.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/transaction.js~createRewardTransaction",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/transaction.js",
    "importStyle": "{createRewardTransaction}",
    "description": "Create reward transaction for block mining",
    "lineNumber": 107,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "address",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "id: string, reward: boolean, inputs: *, outputs: *, hash: string"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 232,
    "kind": "function",
    "name": "verifySignature",
    "memberof": "src/lib/transaction.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/transaction.js~verifySignature",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/transaction.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 111,
    "undocument": true
  },
  {
    "__docId__": 233,
    "kind": "function",
    "name": "createInput",
    "memberof": "src/lib/transaction.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/transaction.js~createInput",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/transaction.js",
    "importStyle": null,
    "description": "Create and sign input",
    "lineNumber": 125,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "transaction",
        "description": "Based on transaction id"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "index",
        "description": "Based on transaction output index"
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "amount",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "wallet",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "transaction, index, amount, address"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 234,
    "kind": "function",
    "name": "buildTransaction",
    "memberof": "src/lib/transaction.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/transaction.js~buildTransaction",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/transaction.js",
    "importStyle": "{buildTransaction}",
    "description": "Create a transaction",
    "lineNumber": 147,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "wallet",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "toAddress",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "amount",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "unspent",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "id, reward, inputs, outputs, hash,"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 235,
    "kind": "file",
    "name": "src/lib/wallet-utils.js",
    "content": "import MultiWallet from 'multi-wallet';\nimport { read, write } from 'crypto-io-fs';\nimport { network, walletPath } from '../params';\n\n// TODO: encrypt\nexport const writeWallet = async multiWIF => await write(walletPath, multiWIF);\n\nexport const readWallet = async () => await read(walletPath, 'string');\n\nexport const generateWallet = () => {\n\tconsole.log(`Generating wallet for network ${network}`);\n\tconst wallet = new MultiWallet(network);\n\tconst mnemonic  = wallet.generate();\n  wallet.mnemonic = mnemonic;\n\treturn wallet;\n};\n\n/**\n * @param {object} root Instance of MultiWallet\n */\nexport const discoverAccounts = root => {\n  const accounts = [];\n  /**\n   * @param {number} depth account depth\n   */\n  const discover = depth => {\n    const account = root.derive(`m/${depth}\\'/0/0`);\n    // global.chain.reduce((p, c) => {\n    //   console.log(p, c);\n    //   c.tx.for\n    //\n    //   }\n    // }, [])()\n    // check for transactions\n    accounts.push(account);\n    // if (transactions) {\n      // return discover(depth++)\n    // } else {\n      return accounts;\n    // }\n  }\n\n  return discover(0);\n\n}\n\nexport const loadAccounts = wallet => {\n  const accounts = discoverAccounts(wallet);\n  return accounts;\n}\n\nexport const loadWallet = async () => {\n  try {\n    const saved = await readWallet();\n    const root = new MultiWallet(network);\n    // TODO: https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki#Account_discovery @AndrewVanardennen @vandeurenglenn\n    // last account is without tx\n    // disallow account creation when previous account has no tx\n    root.import(saved);\n    return root;\n  } catch (e) {\n    throw e;\n  }\n}\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/wallet-utils.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 236,
    "kind": "function",
    "name": "writeWallet",
    "memberof": "src/lib/wallet-utils.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/lib/wallet-utils.js~writeWallet",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/wallet-utils.js",
    "importStyle": "{writeWallet}",
    "description": null,
    "lineNumber": 6,
    "undocument": true
  },
  {
    "__docId__": 237,
    "kind": "function",
    "name": "readWallet",
    "memberof": "src/lib/wallet-utils.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/lib/wallet-utils.js~readWallet",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/wallet-utils.js",
    "importStyle": "{readWallet}",
    "description": null,
    "lineNumber": 8,
    "undocument": true
  },
  {
    "__docId__": 238,
    "kind": "function",
    "name": "generateWallet",
    "memberof": "src/lib/wallet-utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/wallet-utils.js~generateWallet",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/wallet-utils.js",
    "importStyle": "{generateWallet}",
    "description": null,
    "lineNumber": 10,
    "undocument": true
  },
  {
    "__docId__": 239,
    "kind": "function",
    "name": "discoverAccounts",
    "memberof": "src/lib/wallet-utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/wallet-utils.js~discoverAccounts",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/wallet-utils.js",
    "importStyle": "{discoverAccounts}",
    "description": "",
    "lineNumber": 21,
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "root",
        "description": "Instance of MultiWallet"
      }
    ]
  },
  {
    "__docId__": 240,
    "kind": "function",
    "name": "loadAccounts",
    "memberof": "src/lib/wallet-utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/wallet-utils.js~loadAccounts",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/wallet-utils.js",
    "importStyle": "{loadAccounts}",
    "description": null,
    "lineNumber": 47,
    "undocument": true
  },
  {
    "__docId__": 241,
    "kind": "function",
    "name": "loadWallet",
    "memberof": "src/lib/wallet-utils.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/lib/wallet-utils.js~loadWallet",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/wallet-utils.js",
    "importStyle": "{loadWallet}",
    "description": null,
    "lineNumber": 52,
    "undocument": true
  },
  {
    "__docId__": 242,
    "kind": "file",
    "name": "src/lib/wallet.js",
    "content": "// import\nimport { encrypt, decrypt } from 'crypto-io-utils';\nimport bitcoin from 'bitcoinjs-lib';\nimport randomBytes from 'randombytes';\nimport bs58 from 'bs58';\nimport networks from './networks.js';\nimport wif from 'wif';\nimport bigi from 'bigi';\n// declare\nconst { ECPair } = bitcoin;\nconst { encode, decode } = bs58;\n\nexport class CryptoWallet {\n\tconstructor(privateKey, publicKey, network) {\n\t\tif (network) {\n\t\t\tthis.network = network;\n\t\t} else {\n\t\t\tthis.network = 'olivia'; // harcoded to our testnet for now\n\t\t}\n\t\tif (privateKey) {\n\t\t\tconst big = bigi.fromBuffer(Buffer.from(privateKey, 'hex'));\n\t\t\tthis.pair = new ECPair(big, null, { network: this.network });\n\t\t\tthis._updateKeyPair(this.pair);\n\t\t}\n\t}\n\n\tset network(value) {\n\t\tif (typeof value === 'string') {\n\t\t\tvalue = networks[value];\n\t\t}\n\t\tthis._network = value;\n\t}\n\n\tget network() {\n\t\treturn this._network;\n\t}\n\n\tget _jsonWallet() {\n\t\treturn JSON.stringify({\n\t\t\twif: this.wif,\n\t\t\taddress: this.address\n\t\t});\n\t}\n\n\tset private(value) {\n\t\tif (value) {\n\t\t\tObject.defineProperty(this, '_private', {\n\t\t\t\tconfigurable: false,\n\t\t\t\twritable: false,\n\t\t\t\tvalue: value\n\t\t\t});\n\t\t}\n\n\t}\n\n\tget private() {\n\t\tif (!this._private && this.wif) {\n\t\t\t// wid.decode => {version, privateKey, compressed}\n\t\t\t// TODO: check version = network\n\t\t\tconst decoded = wif.decode(this.wif);\n\t\t\tif (parseInt(decoded.version) !== parseInt(networks.olivia.wif))\n\t\t\t\tthrow new Error('Invalid wallet: invalid wallet import format version');\n\t\t\telse this._private = decoded.privateKey.toString('hex'); // decode the wif\n\t\t} else if (!this._private && !this.wif) {\n\t\t\tthrow new Error('Invalid wallet: missing wif or private key');\n\t\t}\n\t\treturn this._private;\n\t}\n\n\tset address(value) {\n\t\tif (value) {\n\t\t\tObject.defineProperty(this, '_address', {\n\t\t\t\tconfigurable: false,\n\t\t\t\twritable: false,\n\t\t\t\tvalue: value\n\t\t\t});\n\t\t}\n\t}\n\n\tget address() {\n\t\tif (!this._address && this.wif) {\n\t\t\tthis.address = ECPair.fromWIF(this.wif, this.network).getAddress();\n\t\t} else if (!this._address && !this.wif) {\n\t\t\tthrow new Error('Invalid wallet: missing wif or address key');\n\t\t}\n\t\treturn this._address;\n\t}\n\n\tget public() {\n\t\treturn this.address;\n\t}\n\n\tlock(secret) {\n\t\treturn encrypt(this._jsonWallet, secret)\n\t\t\t.then(cipher => this._cipher = cipher);\n\t}\n\n\tunlock(secret) {\n\t\treturn decrypt(this._cipher, secret).then(data => JSON.parse(data));\n\t}\n\n\t/**\n   * @return {object} {wif, address}\n   */\n\t_updateKeyPair(keyPair) {\n\t\tthis.wif = keyPair.toWIF(); // private key in wif format\n\t\tthis.address = keyPair.getAddress(); // public key\n\t\treturn { wif: this.wif, address: this.address };\n\t}\n\n\t/**\n   * Create new address using randomBytes\n   */\n\t_createRandomAddress() {\n\t\tconst keyPair = ECPair.makeRandom({\n\t\t\tnetwork: this.network,\n\t\t\trng: () => Buffer.from(randomBytes(32))\n\t\t});\n\n\t\treturn this._updateKeyPair(keyPair);\n\t}\n\n\t_createAddressFromHash(hash) {\n\t\tif (!hash) {\n\t\t\treturn console.warn('SHA256 hash required');\n\t\t}\n\t\tconst big = bigi.fromBuffer(hash);\n\t\tconst keyPair = new ECPair(big);\n\n\t\treturn this._updateKeyPair(keyPair);\n\t}\n\n\t/**\n   * Create a new address\n   * Returns a random address when hash is undefined.\n   *\n   * @param {*} hash SHA256 hash to generate an address from.\n   */\n\tnew(hash) {\n\t\tif (hash) {\n\t\t\treturn this._createAddressFromHash(hash);\n\t\t}\n\t\treturn this._createRandomAddress();\n\t}\n\n\t/**\n   * Get the address using the wif (wallet import format)\n   *\n   * @param {*} wif The wif address to generate the public key from.\n   *\n   * **The wif is also set for generating the private key when sending coins.**\n   */\n\timport(wif) {\n\t\tthis.wif = wif;\n\t\tthis.address = ECPair.fromWIF(wif, this.network).getAddress();\n\t}\n\n\tsign(hash) {\n\t\treturn this.pair.sign(hash).toCompact().toString('hex');\n\t}\n\n\tverify(hash, signature) {\n\t\treturn this.pair.verify(hash);\n\t}\n\n\t/**\n   * Send coins to given address\n   *\n   * @param {*} address The address to send the coins to.\n   *\n   * Will move to other module probably.\n   */\n\tsend() {\n\t\tif (this.private && this.address) {\n\t\t\t// TODO: finish ...\n\t\t} else {\n\t\t\tthrow new Error('Invalid wallet: you should check you address and private key');\n\t\t}\n\t\t// createTransaction\n\t}\n\n\t/**\n   * Send coins to given address\n   *\n   * @param {*} address The address to send the coins to.\n   *\n   * Will move to other module probably.\n   */\n\treceive() {\n\t\tif (!this.private && this.wif) {\n\t\t\tthis.private = decode(this.wif).toString('hex'); // decode the wif with base58\n\t\t} else if (this.private && this.public) {\n\t\t\t// TODO: finish ...\n\t\t} else {\n\t\t\tthrow new Error('Invalid wallet: you should check you address and private key');\n\t\t}\n\t\t// createTransaction\n\t}\n}\nexport default CryptoWallet;\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/wallet.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 243,
    "kind": "variable",
    "name": "ECPair",
    "memberof": "src/lib/wallet.js",
    "static": true,
    "longname": "src/lib/wallet.js~ECPair",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/wallet.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true
  },
  {
    "__docId__": 244,
    "kind": "variable",
    "name": "encode",
    "memberof": "src/lib/wallet.js",
    "static": true,
    "longname": "src/lib/wallet.js~encode",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/wallet.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true
  },
  {
    "__docId__": 245,
    "kind": "class",
    "name": "CryptoWallet",
    "memberof": "src/lib/wallet.js",
    "static": true,
    "longname": "src/lib/wallet.js~CryptoWallet",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/lib/wallet.js",
    "importStyle": "{CryptoWallet}",
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 246,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#constructor",
    "access": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true
  },
  {
    "__docId__": 249,
    "kind": "member",
    "name": "pair",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#pair",
    "access": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true
  },
  {
    "__docId__": 250,
    "kind": "set",
    "name": "network",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#network",
    "access": null,
    "description": null,
    "lineNumber": 27,
    "undocument": true
  },
  {
    "__docId__": 251,
    "kind": "member",
    "name": "_network",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#_network",
    "access": null,
    "description": null,
    "lineNumber": 31,
    "undocument": true
  },
  {
    "__docId__": 252,
    "kind": "get",
    "name": "network",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#network",
    "access": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true
  },
  {
    "__docId__": 253,
    "kind": "get",
    "name": "_jsonWallet",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#_jsonWallet",
    "access": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true
  },
  {
    "__docId__": 254,
    "kind": "set",
    "name": "private",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#private",
    "access": null,
    "description": null,
    "lineNumber": 45,
    "undocument": true
  },
  {
    "__docId__": 255,
    "kind": "get",
    "name": "private",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#private",
    "access": null,
    "description": null,
    "lineNumber": 56,
    "undocument": true
  },
  {
    "__docId__": 256,
    "kind": "member",
    "name": "_private",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#_private",
    "access": null,
    "description": null,
    "lineNumber": 63,
    "undocument": true
  },
  {
    "__docId__": 257,
    "kind": "set",
    "name": "address",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#address",
    "access": null,
    "description": null,
    "lineNumber": 70,
    "undocument": true
  },
  {
    "__docId__": 258,
    "kind": "get",
    "name": "address",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#address",
    "access": null,
    "description": null,
    "lineNumber": 80,
    "undocument": true
  },
  {
    "__docId__": 260,
    "kind": "get",
    "name": "public",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#public",
    "access": null,
    "description": null,
    "lineNumber": 89,
    "undocument": true
  },
  {
    "__docId__": 261,
    "kind": "method",
    "name": "lock",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#lock",
    "access": null,
    "description": null,
    "lineNumber": 93,
    "undocument": true
  },
  {
    "__docId__": 262,
    "kind": "method",
    "name": "unlock",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#unlock",
    "access": null,
    "description": null,
    "lineNumber": 98,
    "undocument": true
  },
  {
    "__docId__": 263,
    "kind": "method",
    "name": "_updateKeyPair",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#_updateKeyPair",
    "access": null,
    "description": "",
    "lineNumber": 105,
    "return": {
      "nullable": null,
      "types": [
        "object"
      ],
      "spread": false,
      "description": "{wif, address}"
    }
  },
  {
    "__docId__": 264,
    "kind": "member",
    "name": "wif",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#wif",
    "access": null,
    "description": null,
    "lineNumber": 106,
    "undocument": true
  },
  {
    "__docId__": 266,
    "kind": "method",
    "name": "_createRandomAddress",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#_createRandomAddress",
    "access": null,
    "description": "Create new address using randomBytes",
    "lineNumber": 114
  },
  {
    "__docId__": 267,
    "kind": "method",
    "name": "_createAddressFromHash",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#_createAddressFromHash",
    "access": null,
    "description": null,
    "lineNumber": 123,
    "undocument": true
  },
  {
    "__docId__": 268,
    "kind": "method",
    "name": "new",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#new",
    "access": null,
    "description": "Create a new address\nReturns a random address when hash is undefined.",
    "lineNumber": 139,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "hash",
        "description": "SHA256 hash to generate an address from."
      }
    ]
  },
  {
    "__docId__": 269,
    "kind": "method",
    "name": "import",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#import",
    "access": null,
    "description": "Get the address using the wif (wallet import format)",
    "lineNumber": 153,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "wif",
        "description": "The wif address to generate the public key from.\n\n**The wif is also set for generating the private key when sending coins.**"
      }
    ]
  },
  {
    "__docId__": 272,
    "kind": "method",
    "name": "sign",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#sign",
    "access": null,
    "description": null,
    "lineNumber": 158,
    "undocument": true
  },
  {
    "__docId__": 273,
    "kind": "method",
    "name": "verify",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#verify",
    "access": null,
    "description": null,
    "lineNumber": 162,
    "undocument": true
  },
  {
    "__docId__": 274,
    "kind": "method",
    "name": "send",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#send",
    "access": null,
    "description": "Send coins to given address",
    "lineNumber": 173,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "address",
        "description": "The address to send the coins to.\n\nWill move to other module probably."
      }
    ]
  },
  {
    "__docId__": 275,
    "kind": "method",
    "name": "receive",
    "memberof": "src/lib/wallet.js~CryptoWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/lib/wallet.js~CryptoWallet#receive",
    "access": null,
    "description": "Send coins to given address",
    "lineNumber": 189,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "address",
        "description": "The address to send the coins to.\n\nWill move to other module probably."
      }
    ]
  },
  {
    "__docId__": 277,
    "kind": "file",
    "name": "src/lib/workers/miner-worker.js",
    "content": "import calculateHash from './../dagchain/calculate-hash';\nimport getDifficulty from '../../difficulty';\n\nconst hashes = nonce => {\n\tconst hashrates = [10000];\n\tfor (let i = hashrates.length; i-- > 0;) {\n\t\tif (nonce % hashrates[i - 1] === 0) return hashrates[i - 1];\n\t}\n\treturn hashrates.filter(hashrate => {\n\t\tif (nonce % hashrate === 0) return hashrate;\n\t});\n};\n\nexport default (() => {\n\tprocess.on('message', async ({block, difficulty}) => {\n  \tconst stop = () => resolve(null);\n  \tlet hashCount = 0;\n\t\tblock.hash = await calculateHash(block);\n  \twhile (getDifficulty(block.hash) >= difficulty) {\n  \t\tblock.nonce++;\n  \t\tblock.hash = await calculateHash(block);\n  \t\thashCount = hashCount + Number(hashes(block.nonce));\n  \t}\n  \tprocess.send({ block, hashCount });\n\t});\n\n})();\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/lib/workers/miner-worker.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 278,
    "kind": "function",
    "name": "hashes",
    "memberof": "src/lib/workers/miner-worker.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/workers/miner-worker.js~hashes",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/lib/workers/miner-worker.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true
  },
  {
    "__docId__": 279,
    "kind": "file",
    "name": "src/multi-signature.js",
    "content": "import hmac from 'crypto-js/hmac-sha3';\nimport { encode, decode } from 'bs58';\nimport RIPEMD160 from 'ripemd160';\n\nexport default class MultiSignature {\n\tconstructor(version, multiCodec) {\n\t\tif (!version) throw ReferenceError('version undefined');\n\t\tif (!multiCodec) throw ReferenceError('multicodec undefined');\n\t\tthis.version = version;\n\t\tthis.multiCodec = multiCodec;\n\t}\n\n\tset multiSignature(value) {\n\t\tthis._multiSignature = value;\n\t}\n\n\tget signature() {\n\t\treturn this.decoded.signature;\n\t}\n\n\tget multiSignature() {\n\t\treturn this._multiSignature || this.encoded || this.encode(this.signature);\n\t}\n\n\texport() {\n\t\treturn this.multiSignature;\n\t}\n\n\timport(encoded) {\n\t\treturn this.decode(encoded);\n\t}\n\n\tsign(hash, address) {\n\t\tif (!hash || !address)\n\t\t\tthrow ReferenceError(`${hash ? 'address' : 'hash'} undefined`);\n\n\t\tconst signature = hmac(hash, address, 256).toString();\n\t\tthis.decoded = {\n\t\t\tversion: this.version,\n\t\t\tmultiCodec: this.multiCodec,\n\t\t\tsignature\n\t\t};\n\t\treturn this.encode(signature);\n\t}\n\n\t/**\n   * verify signature (multiSignature.signature)\n   */\n\tverifySignature(signature, hash, address) {\n\t\treturn Boolean(signature === hmac(hash, address).toString());\n\t}\n\n\t/**\n   * verify multiSignature\n   */\n\tverify(multiSignature, hash, address) {\n\t\treturn Boolean(multiSignature === this.sign(hash, address));\n\t}\n\n\t/**\n   * encode multi signature to exportable format\n   * @param {string} signature base58 encoded string\n   * @return {object} base58 encoded multiSignature\n   */\n\tencode(signature) {\n\t\tsignature = signature || this.signature;\n\t\tif (!signature) throw ReferenceError('signature undefined');\n\t\tconst buffer = Buffer.concat([\n\t\t\tBuffer.from(this.version.toString()),\n\t\t\tBuffer.from(this.multiCodec.toString()),\n\t\t\tnew RIPEMD160().update(signature).digest()\n\t\t]);\n\t\tthis.multiSignature = encode(buffer);\n\t\treturn this.multiSignature;\n\t}\n\n\t/**\n   * decode exported multi signature to object\n   * @param {string} multiSignature base58 encoded string\n   * @return {object} { version, multiCodec, signature }\n   */\n\tdecode(multiSignature) {\n\t\tif (multiSignature) this.multiSignature = multiSignature;\n\t\tif (!this.multiSignature) throw ReferenceError('multiSignature undefined');\n\t\tconst buffer = decode(this.multiSignature);\n\t\tconst version = parseInt(buffer.slice(0, 1));\n\t\tconst codec = parseInt(buffer.slice(1, 5));\n\t\tconst signature = buffer.slice(5, buffer.length);\n\t\tif (version !== this.version) throw TypeError('Invalid version');\n\t\tif (this.multiCodec !== codec) throw TypeError('Invalid multiCodec');\n  \tthis.decoded = {\n\t\t\tversion,\n\t\t\tmultiCodec,\n\t\t\tsignature\n\t\t};\n\t\treturn this.decoded;\n\t}\n}\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/multi-signature.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 280,
    "kind": "class",
    "name": "MultiSignature",
    "memberof": "src/multi-signature.js",
    "static": true,
    "longname": "src/multi-signature.js~MultiSignature",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/multi-signature.js",
    "importStyle": "MultiSignature",
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 281,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/multi-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#constructor",
    "access": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true
  },
  {
    "__docId__": 282,
    "kind": "member",
    "name": "version",
    "memberof": "src/multi-signature.js~MultiSignature",
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#version",
    "access": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true
  },
  {
    "__docId__": 283,
    "kind": "member",
    "name": "multiCodec",
    "memberof": "src/multi-signature.js~MultiSignature",
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#multiCodec",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true
  },
  {
    "__docId__": 284,
    "kind": "set",
    "name": "multiSignature",
    "memberof": "src/multi-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#multiSignature",
    "access": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true
  },
  {
    "__docId__": 285,
    "kind": "member",
    "name": "_multiSignature",
    "memberof": "src/multi-signature.js~MultiSignature",
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#_multiSignature",
    "access": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true
  },
  {
    "__docId__": 286,
    "kind": "get",
    "name": "signature",
    "memberof": "src/multi-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#signature",
    "access": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true
  },
  {
    "__docId__": 287,
    "kind": "get",
    "name": "multiSignature",
    "memberof": "src/multi-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#multiSignature",
    "access": null,
    "description": null,
    "lineNumber": 21,
    "undocument": true
  },
  {
    "__docId__": 288,
    "kind": "method",
    "name": "export",
    "memberof": "src/multi-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#export",
    "access": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true
  },
  {
    "__docId__": 289,
    "kind": "method",
    "name": "import",
    "memberof": "src/multi-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#import",
    "access": null,
    "description": null,
    "lineNumber": 29,
    "undocument": true
  },
  {
    "__docId__": 290,
    "kind": "method",
    "name": "sign",
    "memberof": "src/multi-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#sign",
    "access": null,
    "description": null,
    "lineNumber": 33,
    "undocument": true
  },
  {
    "__docId__": 291,
    "kind": "member",
    "name": "decoded",
    "memberof": "src/multi-signature.js~MultiSignature",
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#decoded",
    "access": null,
    "description": null,
    "lineNumber": 38,
    "undocument": true
  },
  {
    "__docId__": 292,
    "kind": "method",
    "name": "verifySignature",
    "memberof": "src/multi-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#verifySignature",
    "access": null,
    "description": "verify signature (multiSignature.signature)",
    "lineNumber": 49
  },
  {
    "__docId__": 293,
    "kind": "method",
    "name": "verify",
    "memberof": "src/multi-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#verify",
    "access": null,
    "description": "verify multiSignature",
    "lineNumber": 56
  },
  {
    "__docId__": 294,
    "kind": "method",
    "name": "encode",
    "memberof": "src/multi-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#encode",
    "access": null,
    "description": "encode multi signature to exportable format",
    "lineNumber": 65,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "signature",
        "description": "base58 encoded string"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "object"
      ],
      "spread": false,
      "description": "base58 encoded multiSignature"
    }
  },
  {
    "__docId__": 296,
    "kind": "method",
    "name": "decode",
    "memberof": "src/multi-signature.js~MultiSignature",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multi-signature.js~MultiSignature#decode",
    "access": null,
    "description": "decode exported multi signature to object",
    "lineNumber": 82,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "multiSignature",
        "description": "base58 encoded string"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "object"
      ],
      "spread": false,
      "description": "{ version, multiCodec, signature }"
    }
  },
  {
    "__docId__": 299,
    "kind": "file",
    "name": "src/multihd.js",
    "content": "import { encode, decode } from 'bs58';\nimport networks from './lib/networks';\nimport { generateMnemonic, mnemonicToSeed } from 'bip39';\nimport { createHmac } from 'crypto';\n// import { pointFromScalar } from 'tiny-secp256k1';\nimport BigInteger from 'big-integer';\nconst PARENT_FINGERPRINT = 0x00000000;\nconst mnemonic = generateMnemonic();\nconsole.log(mnemonic);\nconst seed = mnemonicToSeed(mnemonic);\nconst HDNode = require('bitcoinjs-lib/src/hdnode');\nconst hdnode = HDNode.fromSeedBuffer(seed, networks['olivia']);\nconsole.log(hdnode.chainCode);\n/**\n * @example\n * validateNetwork('name')\n * validateNetwork({ name, wif, bip32, messagePrefix })\n * validateNetwork({ wif, bip32, messagePrefix }, 'name')\n */\nconst validateNetwork = (network, name) => {\n\tif (!network) throw new ReferenceError('network undefined');\n\tif (typeof network === 'object') {\n\t\tif (!network.name && name) network.name = name;\n\t\telse throw ReferenceError('network name undefined');\n\t} else {\n\t\tname = network;\n\t\tnetwork = networks[network];\n\t\tnetwork.name = name;\n\t}\n\tif (!network.bip32 || !network.wif)\n\t\tthrow new ReferenceError(\n\t\t\t`magic ${network.bip32 ? 'wif': 'bip32'} prefix undefined`\n\t\t);\n\tif (!network.bip32.public || !network.bip32.private)\n\t\tthrow new ReferenceError(\n\t\t\t`magic ${network.bip32.public ? 'bip32.private': 'bip32.public'} prefix undefined`\n\t\t);\n\tif (!network.messagePrefix || !network.multiCodec)\n\t\tthrow new ReferenceError(\n\t\t\t`magic ${network.multiCodec ? 'messagePrefix' : 'multiCodec'} undefined`\n\t\t);\n\treturn network;\n};\nclass MultiInterface {\n\t/**\n   * @return {object}\n   */\n\tget json() {\n\t\treturn this.deserialized;\n\t}\n\n\t/**\n   * @return {object}\n   */\n\tget data() {\n\t\treturn this.deserialized;\n\t}\n\n\t/**\n   * @return {buffer}\n   */\n\tget buffer() {\n\t\treturn this.serialized;\n\t}\n\n\t/**\n   * @return {string} utf8 encoded string\n   */\n\tget utf8() {\n\t\treturn this.serialized.toString('utf8');\n\t}\n\n\t/**\n   * @return {string} hex encoded string\n   */\n\tget hex() {\n\t\treturn this.serialized.toString('hex');\n\t}\n\n\t/**\n   * @return {string} base58 encoded string\n   */\n\tget base58() {\n\t\treturn encode(this.serialized);\n\t}\n\n\t/**\n   * @return {string} base64 encoded string\n   */\n\tget base64() {\n\t\treturn this.serialized.toString('base64');\n\t}\n}\nexport class MultiHDWallet extends MultiInterface {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tgenerateWallet(network) {\n\t\tconsole.log(network);\n  \tconst mnemonic = generateMnemonic();\n  \tconst seed = mnemonicToSeed(mnemonic);\n\t\tconst multi = new MultiHD();\n\t\t// TODO: let user know to note down seed and network\n\t\tconst hd = multi.generate(seed, network);\n\t\tthis.encode(hd, network);\n\t}\n\n\trecover(seed, network) {\n\t\tconst hd = multi.generate(seed, network);\n\t\t// this.generateWallet();\n\t}\n\n\t/**\n   * @param {object} data { masterKey, index, depth, parentFingerprint, publicKey }\n   */\n\tencode(data, network) {\n\t\tconsole.log(network);\n\t\tif (data) this.serialized = this.serialize(data);\n\t\tconst buffer = Buffer.concat([\n\t\t\tBuffer.from(network.multiCodec, 'hex'),\n\t\t\tBuffer.from(network.wif, 'hex'),\n\t\t\tthis.buffer\n\t\t]);\n\t\tthis.encoded = encode(buffer);\n\t\treturn this.encoded;\n\t}\n\n\t/**\n   * @param {object} data { masterKey, index, depth, parentFingerprint, publicKey }\n   */\n\tdecode(buffer) {\n\t\t// this.encoded = data;\n\t\tconst code = varint.decode(buffer);\n\t\tconsole.log(code);\n\t\tthis.deserialized = this.deserialize(decoded.digest);\n\t\treturn this.decoded;\n\t}\n\n\timport(buffer) {\n\t\t// if (!Buffer.isBuffer(buffer)) buffer = decode()\n\t\tthis.decode(buffer);\n\t}\n}\n\nexport default class MultiHD extends MultiInterface {\n\t/**\n   * @return {buffer}\n   */\n\tget digest() {\n\t\treturn keccak(this.serialized, 512);\n\t}\n\n\t/**\n   * @param data\n   * @example\n   * multiHD(<encoded>)\n   * multiHD(buffer, network)\n   * multiHD({masterKey, index, depth, parentFingerprint}, network)\n   */\n\tconstructor() {\n\t\tsuper();\n\t\t// else if (!this.value && !this.network) throw ReferenceError('expected network to be defined');\n\t\t// if (!this.network) this.encoded = this.value;\n\t\t// if (Buffer.isBuffer(this.value)) {\n\t\t// \tthis.deserialized = this.deserialize(this.value);\n\t\t// \tthis.serialized = this.serialize(this.deserialized);\n\t\t// } else if (typeof this.value === 'object') {\n\t\t// \tthis.serialized = serialize(this.value);\n\t\t// \tthis.deserialized = this.deserialize(this.serialized);\n\t\t// }\n\t}\n\n\tfromSeed(seed, network) {\n  \tif (seed.length < 16) throw new TypeError('Seed should be at least 128 bits');\n  \tif (seed.length > 64) throw new TypeError('Seed should be at most 512 bits');\n  \tif (!Buffer.isBuffer(seed)) {\n  \t\tseed = Uint8Array(Buffer.from(seed));\n  \t}\n  \ttry {\n  \t\tnetwork = validateNetwork(network);\n  \t\tconst hash = createHmac('sha512', 'Leofcoin Seed').update(seed).digest();\n\t\t\tconst masterKey = hash.slice(0, 32);\n\t\t\tconsole.log(masterKey);\n\t\t\treturn {\n\t\t\t\tindex: 0,\n\t\t\t\tdepth: 0,\n\t\t\t\tparentFingerprint: PARENT_FINGERPRINT,\n\t\t\t\tchainCode: hash.slice(32),\n\t\t\t\tpublicKey: pointFromScalar(new BigInteger(masterKey), true),\n\t\t\t\tmasterKey,\n\t\t\t\tnetwork\n\t\t\t};\n  \t} catch (e) {\n  \t\tthrow e;\n  \t}\n\t}\n\n\tgenerate(seed, network) {\n\t\tconst hd = this.fromSeed(seed, network);\n\t\tthis.serialized = this.serialize(hd);\n\t\treturn this.encode();\n\t\t// this.network\n\t}\n\n\t/**\n   * @param {object} data { masterKey, index, depth, parentFingerprint, publicKey }\n   */\n\tencode(data) {\n\t\tif (data) this.serialized = this.serialize(data);\n\t\tthis.encoded = encode(buffer);\n\t\treturn this.encoded;\n\t}\n\n\t/**\n   * @param {object} data { masterKey, index, depth, parentFingerprint, publicKey }\n   */\n\tdecode(buffer) {\n\t\t// this.encoded = data;\n\t\tthis.decoded = decode(buffer || this.buffer);\n\t\tthis.deserialized = this.deserialize();\n\t\tthis.decoded = decode(this.buffer);\n\t\treturn this.decoded;\n\t}\n\n\tserialize({ masterKey, index, depth, parentFingerprint, version, publicKey }) {\n\t\tconst buffer = Buffer.allocUnsafe(78);\n\t\t// update buffer with version > depth > parentFingerprint >\n\t\tbuffer.writeUInt32(version, 0);\n\t\tbuffer.writeUInt8(depth, 4);\n\t\tbuffer.writeUInt32BE(parentFingerprint, 5);\n\t\tbuffer.writeUInt32BE(index, 9);\n\t\tif (masterKey) {\n\t\t\tbuffer.writeUInt8(0, 45);\n\t\t\tmasterKey.copy(buffer, 46);\n\t\t} else {\n\t\t\tpublicKey.copy(buffer, 45);\n\t\t}\n\t\treturn buffer;\n\t}\n\n\tinfoFromBuffer(buffer) {\n\t\treturn {\n\t\t\tversion: buffer.readUInt32BE(0),\n\t\t\tdepth: buffer[4],\n\t\t\tindex: buffer.readUInt32BE(9),\n\t\t\tchainCode: buffer.slice(13, 45),\n\t\t\tparentFingerprint: buffer.readUInt32BE(5)\n\t\t};\n\t}\n\n\tdeserialize(buffer) {\n\t\ttry {\n\t\t\tconst network = validateNetwork(network);\n\t\t\tif (buffer.length !== 78) throw Error('Invalid buffer length');\n\t\t\tconst { bip32 } = network;\n\t\t\tconst {\n\t\t\t\tversion, index, depth, parentFingerprint, chainCode\n\t\t\t} = this.infoFromBuffer(buffer);\n\t\t\t// validate\n\t\t\tif (version !== bip32.private && version !== bip32.public)\n\t\t\t\tthrow TypeError('invalid network version');\n\n\t\t\tif (depth === 0 && parentFingerprint !== PARENT_FINGERPRINT)\n\t\t\t\tthrow TypeError('Invalid parent fingerprint');\n\n\t\t\tif (depth === 0 && index !== 0)\n\t\t\t\tthrow TypeError('Invalid index');\n\n\t\t\tif (version === bip32.private) {\n\t\t\t\tif (buffer.readUInt8(45) !== 0x00)\n\t\t\t\t\tthrow TypeError('Invalid private key');\n\n\t\t\t\tconst masterKey = buffer.slice(46, 78);\n\t\t\t\t// cleanup unrelated key\n\t\t\t\treturn {\n\t\t\t\t\tmasterKey,chainCode, network, depth, index, parentFingerprint\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconst publicKey = buffer.slice(45, 78);\n\t\t\t\t// cleanup unrelated key\n\n\t\t\t\treturn {\n\t\t\t\t\tpublicKey, chainCode, network, depth, index, parentFingerprint\n\t\t\t\t};\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tthrow e;\n\t\t}\n\t}\n}\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/multihd.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 300,
    "kind": "variable",
    "name": "PARENT_FINGERPRINT",
    "memberof": "src/multihd.js",
    "static": true,
    "longname": "src/multihd.js~PARENT_FINGERPRINT",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/multihd.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 301,
    "kind": "variable",
    "name": "mnemonic",
    "memberof": "src/multihd.js",
    "static": true,
    "longname": "src/multihd.js~mnemonic",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/multihd.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true
  },
  {
    "__docId__": 302,
    "kind": "variable",
    "name": "seed",
    "memberof": "src/multihd.js",
    "static": true,
    "longname": "src/multihd.js~seed",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/multihd.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true
  },
  {
    "__docId__": 303,
    "kind": "variable",
    "name": "HDNode",
    "memberof": "src/multihd.js",
    "static": true,
    "longname": "src/multihd.js~HDNode",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/multihd.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true
  },
  {
    "__docId__": 304,
    "kind": "variable",
    "name": "hdnode",
    "memberof": "src/multihd.js",
    "static": true,
    "longname": "src/multihd.js~hdnode",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/multihd.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true
  },
  {
    "__docId__": 305,
    "kind": "function",
    "name": "validateNetwork",
    "memberof": "src/multihd.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/multihd.js~validateNetwork",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/multihd.js",
    "importStyle": null,
    "description": "",
    "examples": [
      "validateNetwork('name')\nvalidateNetwork({ name, wif, bip32, messagePrefix })\nvalidateNetwork({ wif, bip32, messagePrefix }, 'name')"
    ],
    "lineNumber": 20
  },
  {
    "__docId__": 306,
    "kind": "class",
    "name": "MultiInterface",
    "memberof": "src/multihd.js",
    "static": true,
    "longname": "src/multihd.js~MultiInterface",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/multihd.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 307,
    "kind": "get",
    "name": "json",
    "memberof": "src/multihd.js~MultiInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiInterface#json",
    "access": null,
    "description": "",
    "lineNumber": 48,
    "return": {
      "nullable": null,
      "types": [
        "object"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 308,
    "kind": "get",
    "name": "data",
    "memberof": "src/multihd.js~MultiInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiInterface#data",
    "access": null,
    "description": "",
    "lineNumber": 55,
    "return": {
      "nullable": null,
      "types": [
        "object"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 309,
    "kind": "get",
    "name": "buffer",
    "memberof": "src/multihd.js~MultiInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiInterface#buffer",
    "access": null,
    "description": "",
    "lineNumber": 62,
    "return": {
      "nullable": null,
      "types": [
        "buffer"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 310,
    "kind": "get",
    "name": "utf8",
    "memberof": "src/multihd.js~MultiInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiInterface#utf8",
    "access": null,
    "description": "",
    "lineNumber": 69,
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "utf8 encoded string"
    }
  },
  {
    "__docId__": 311,
    "kind": "get",
    "name": "hex",
    "memberof": "src/multihd.js~MultiInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiInterface#hex",
    "access": null,
    "description": "",
    "lineNumber": 76,
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "hex encoded string"
    }
  },
  {
    "__docId__": 312,
    "kind": "get",
    "name": "base58",
    "memberof": "src/multihd.js~MultiInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiInterface#base58",
    "access": null,
    "description": "",
    "lineNumber": 83,
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "base58 encoded string"
    }
  },
  {
    "__docId__": 313,
    "kind": "get",
    "name": "base64",
    "memberof": "src/multihd.js~MultiInterface",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiInterface#base64",
    "access": null,
    "description": "",
    "lineNumber": 90,
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "base64 encoded string"
    }
  },
  {
    "__docId__": 314,
    "kind": "class",
    "name": "MultiHDWallet",
    "memberof": "src/multihd.js",
    "static": true,
    "longname": "src/multihd.js~MultiHDWallet",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/multihd.js",
    "importStyle": "{MultiHDWallet}",
    "description": null,
    "lineNumber": 94,
    "undocument": true,
    "interface": false,
    "extends": [
      "MultiInterface"
    ]
  },
  {
    "__docId__": 315,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/multihd.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHDWallet#constructor",
    "access": null,
    "description": null,
    "lineNumber": 95,
    "undocument": true
  },
  {
    "__docId__": 316,
    "kind": "method",
    "name": "generateWallet",
    "memberof": "src/multihd.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHDWallet#generateWallet",
    "access": null,
    "description": null,
    "lineNumber": 99,
    "undocument": true
  },
  {
    "__docId__": 317,
    "kind": "method",
    "name": "recover",
    "memberof": "src/multihd.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHDWallet#recover",
    "access": null,
    "description": null,
    "lineNumber": 109,
    "undocument": true
  },
  {
    "__docId__": 318,
    "kind": "method",
    "name": "encode",
    "memberof": "src/multihd.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHDWallet#encode",
    "access": null,
    "description": "",
    "lineNumber": 117,
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "{ masterKey, index, depth, parentFingerprint, publicKey }"
      }
    ]
  },
  {
    "__docId__": 319,
    "kind": "member",
    "name": "serialized",
    "memberof": "src/multihd.js~MultiHDWallet",
    "static": false,
    "longname": "src/multihd.js~MultiHDWallet#serialized",
    "access": null,
    "description": null,
    "lineNumber": 119,
    "undocument": true
  },
  {
    "__docId__": 320,
    "kind": "member",
    "name": "encoded",
    "memberof": "src/multihd.js~MultiHDWallet",
    "static": false,
    "longname": "src/multihd.js~MultiHDWallet#encoded",
    "access": null,
    "description": null,
    "lineNumber": 125,
    "undocument": true
  },
  {
    "__docId__": 321,
    "kind": "method",
    "name": "decode",
    "memberof": "src/multihd.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHDWallet#decode",
    "access": null,
    "description": "",
    "lineNumber": 132,
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "{ masterKey, index, depth, parentFingerprint, publicKey }"
      }
    ]
  },
  {
    "__docId__": 322,
    "kind": "member",
    "name": "deserialized",
    "memberof": "src/multihd.js~MultiHDWallet",
    "static": false,
    "longname": "src/multihd.js~MultiHDWallet#deserialized",
    "access": null,
    "description": null,
    "lineNumber": 136,
    "undocument": true
  },
  {
    "__docId__": 323,
    "kind": "method",
    "name": "import",
    "memberof": "src/multihd.js~MultiHDWallet",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHDWallet#import",
    "access": null,
    "description": null,
    "lineNumber": 140,
    "undocument": true
  },
  {
    "__docId__": 324,
    "kind": "class",
    "name": "MultiHD",
    "memberof": "src/multihd.js",
    "static": true,
    "longname": "src/multihd.js~MultiHD",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/multihd.js",
    "importStyle": "MultiHD",
    "description": null,
    "lineNumber": 146,
    "undocument": true,
    "interface": false,
    "extends": [
      "MultiInterface"
    ]
  },
  {
    "__docId__": 325,
    "kind": "get",
    "name": "digest",
    "memberof": "src/multihd.js~MultiHD",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHD#digest",
    "access": null,
    "description": "",
    "lineNumber": 150,
    "return": {
      "nullable": null,
      "types": [
        "buffer"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 326,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/multihd.js~MultiHD",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHD#constructor",
    "access": null,
    "description": "",
    "examples": [
      "multiHD(<encoded>)\nmultiHD(buffer, network)\nmultiHD({masterKey, index, depth, parentFingerprint}, network)"
    ],
    "lineNumber": 161,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": ""
      }
    ]
  },
  {
    "__docId__": 327,
    "kind": "method",
    "name": "fromSeed",
    "memberof": "src/multihd.js~MultiHD",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHD#fromSeed",
    "access": null,
    "description": null,
    "lineNumber": 174,
    "undocument": true
  },
  {
    "__docId__": 328,
    "kind": "method",
    "name": "generate",
    "memberof": "src/multihd.js~MultiHD",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHD#generate",
    "access": null,
    "description": null,
    "lineNumber": 199,
    "undocument": true
  },
  {
    "__docId__": 329,
    "kind": "member",
    "name": "serialized",
    "memberof": "src/multihd.js~MultiHD",
    "static": false,
    "longname": "src/multihd.js~MultiHD#serialized",
    "access": null,
    "description": null,
    "lineNumber": 201,
    "undocument": true
  },
  {
    "__docId__": 330,
    "kind": "method",
    "name": "encode",
    "memberof": "src/multihd.js~MultiHD",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHD#encode",
    "access": null,
    "description": "",
    "lineNumber": 209,
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "{ masterKey, index, depth, parentFingerprint, publicKey }"
      }
    ]
  },
  {
    "__docId__": 332,
    "kind": "member",
    "name": "encoded",
    "memberof": "src/multihd.js~MultiHD",
    "static": false,
    "longname": "src/multihd.js~MultiHD#encoded",
    "access": null,
    "description": null,
    "lineNumber": 211,
    "undocument": true
  },
  {
    "__docId__": 333,
    "kind": "method",
    "name": "decode",
    "memberof": "src/multihd.js~MultiHD",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHD#decode",
    "access": null,
    "description": "",
    "lineNumber": 218,
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "{ masterKey, index, depth, parentFingerprint, publicKey }"
      }
    ]
  },
  {
    "__docId__": 334,
    "kind": "member",
    "name": "decoded",
    "memberof": "src/multihd.js~MultiHD",
    "static": false,
    "longname": "src/multihd.js~MultiHD#decoded",
    "access": null,
    "description": null,
    "lineNumber": 220,
    "undocument": true
  },
  {
    "__docId__": 335,
    "kind": "member",
    "name": "deserialized",
    "memberof": "src/multihd.js~MultiHD",
    "static": false,
    "longname": "src/multihd.js~MultiHD#deserialized",
    "access": null,
    "description": null,
    "lineNumber": 221,
    "undocument": true
  },
  {
    "__docId__": 337,
    "kind": "method",
    "name": "serialize",
    "memberof": "src/multihd.js~MultiHD",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHD#serialize",
    "access": null,
    "description": null,
    "lineNumber": 226,
    "undocument": true
  },
  {
    "__docId__": 338,
    "kind": "method",
    "name": "infoFromBuffer",
    "memberof": "src/multihd.js~MultiHD",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHD#infoFromBuffer",
    "access": null,
    "description": null,
    "lineNumber": 242,
    "undocument": true
  },
  {
    "__docId__": 339,
    "kind": "method",
    "name": "deserialize",
    "memberof": "src/multihd.js~MultiHD",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/multihd.js~MultiHD#deserialize",
    "access": null,
    "description": null,
    "lineNumber": 252,
    "undocument": true
  },
  {
    "__docId__": 340,
    "kind": "file",
    "name": "src/params.js",
    "content": "import { join } from 'path';\r\nimport { homedir } from 'os';\r\nimport { decode, encode } from 'bs58';\r\nimport { read } from 'crypto-io-fs';\nimport { keccak } from 'leofcoin-hash';\nconst argv = process.argv;\n\nexport const networks = {\n\t'leofcoin': join(homedir(), '.leofcoin'),\n\t'olivia': join(homedir(), '.leofcoin/olivia')\n};\n\nexport const network = (() => {\n  const index = argv.indexOf('--network');\n  return process.env.NETWORK || (index > -1) ? argv[index + 1] : 'leofcoin';\n})()\n\nexport const verbose = Boolean([\n  argv.indexOf('-v'),\n  argv.indexOf('--verbose'),\n  process.env.VERBOSE ? 1 : -1\n].reduce((p, c) => {\n  if (c > p) return c;\n  return Number(p)\n}, -1) >= 0);\n\r\nexport const olivia = process.argv.includes('olivia') || process.argv.includes('testnet');\r\nexport const genesis = process.argv.includes('genesis');\r\nexport const AppData = join(homedir(), 'AppData', 'Roaming', olivia ? 'Leofcoin/olivia' : 'Leofcoin');\r\nconst netHash = net => encode(keccak(Buffer.from(`${net}-`), 256)).slice(0, 24);\nexport const APPDATAPATH = (() => {\n  switch (process.platform) {\n    case 'win32':\n      return join(homedir(), 'AppData', 'Roaming', 'Leofcoin', olivia ? 'olivia' : '')\n      break;\n    case 'linux':\n      return join(homedir(), '.leofcoin', olivia ? 'olivia' : '')\n      break;\n    case 'darwin':\n      // TODO: implement darwin path\n      break;\n    case 'android':\n      // TODO: implement android path\n      // experimental\n      break;\n  }\n})();\n\nexport const walletPath = join(APPDATAPATH, 'wallet.dat');\nexport const mainNethash = netHash('leofcoin');\n\n/**\n * returns the hash for a subnet, prefixed with mainNethash\n */\nconst subnetHash = net => {\n  const prefix = mainNethash.slice(0, 4);\n  const hash = netHash(net);\n  return `${prefix}${hash.slice(4, hash.length)}`\n}\nexport const testNethash = subnetHash('olivia');\n\nexport const netPrefix = (() => network === 'leofcoin' ? mainNethash : testNethash)()\nexport const signalServers = (() => {\n  if (network === 'olivia') return [\n    '/ip4/162.208.10.171/tcp/4002/ipfs/QmNwuenPwwVKuQRHksR4YHtWS91n5PoyqyK3Focbm1uU4d'\n  ]\n  else return [\n    '/ip4/162.208.10.171/tcp/4002/ipfs/QmXWTPiAg52FH87p7nVMcJVmMUzmLVLRDpT1yh1apb9xKr'\n  ]\n})()\n\nexport const netKeys = {\n  olivia: `/key/swarm/psk/1.0.0/\n  /base16/\n  b37e0b6f3574931ce7a0ef863f64b0f01ba111bb7fabb6a661fc67b51b4ddd15`,\n  leofcoin: `/key/swarm/psk/1.0.0/\n  /base16/\n  0b78a0dcb430dd77311ab6629aa6b75fa05c6779a567dcc176b2299853e6f746`\n}\r\n\nexport const netKey = netKeys[network];\r\nexport const networkPath = networks[network];\r\nexport const netKeyPath = join(networkPath, 'swarm.key');\r\nexport const localCurrent = join(networkPath, 'db', 'current');\r\nexport const localIndex = join(networkPath, 'db', 'index');\r\nexport const localDAGAddress = join(networkPath, 'db', 'dag.multiaddress');\r\n// export const\r\n// TODO: remove seed once we have a static ip for our ipfs daemon node\r\n// untill seed is removed we retrieve the keys using socket.io\r\n// TODO: make AppData overwriteable\r\nexport const seed = 'https://septimal-balinese-2547.dataplicity.io';\r\nexport const seeds = 'QmdfTbBqBPQ7VNxZEYEj14VmRuZBkqFbiwReogJgS1zR1n';\r\nexport const configPath = join(AppData, 'core.config');\r\nexport const reward = 150;\r\nexport const consensusSubsidyInterval = 52500;\r\nexport const consensusSubsidyPercentage = 12.5; // quarterlings\r\nexport const genesisCID = '1220000026e43a85c01ab04183ecce485637ac15d7423bea5fd0a72019da9afe2936'; // // TODO: should be hardcoded\r\n\r\nexport const GENESISBS58 = 'uVd8DSSuJkh8P8WbMsUTknyidJV8V8eUBL8Pg8ijHbgQBnkjDVrKky5EWD19F3vY9uApjMkb47oah95qDrYXWqNbJzLKAWFaxdCmcjGFv';\r\nexport const GENESISBLOCK = (() => {\r\n\tconst block = JSON.parse(Buffer.from(decode(GENESISBS58)).toString());\r\n\tblock.hash = genesisCID.substring(4);\r\n\treturn block;\r\n})();\r\nexport const localDAGMultiaddress = async () => {\n  try {\n    const address = await read(localDAGAddress, 'string')\n    return address;\n  } catch (e) {\n    console.warn(`initial run::${e}`)\n  }\n};\n\r\nexport const checkpoints = [\r\n];\r\n\r\nexport default {\r\n\tseed,\r\n\tAppData,\r\n\tconfigPath,\r\n\tlocalCurrent,\r\n\tlocalIndex,\r\n\treward,\r\n\tconsensusSubsidyInterval,\r\n\tconsensusSubsidyPercentage\r\n};\r\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/params.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 341,
    "kind": "variable",
    "name": "argv",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~argv",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true
  },
  {
    "__docId__": 342,
    "kind": "variable",
    "name": "networks",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~networks",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{networks}",
    "description": null,
    "lineNumber": 8,
    "undocument": true
  },
  {
    "__docId__": 343,
    "kind": "variable",
    "name": "network",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~network",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{network}",
    "description": null,
    "lineNumber": 13,
    "undocument": true
  },
  {
    "__docId__": 344,
    "kind": "variable",
    "name": "verbose",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~verbose",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{verbose}",
    "description": null,
    "lineNumber": 18,
    "undocument": true
  },
  {
    "__docId__": 345,
    "kind": "variable",
    "name": "olivia",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~olivia",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{olivia}",
    "description": null,
    "lineNumber": 27,
    "undocument": true
  },
  {
    "__docId__": 346,
    "kind": "variable",
    "name": "genesis",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~genesis",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{genesis}",
    "description": null,
    "lineNumber": 28,
    "undocument": true
  },
  {
    "__docId__": 347,
    "kind": "variable",
    "name": "AppData",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~AppData",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{AppData}",
    "description": null,
    "lineNumber": 29,
    "undocument": true
  },
  {
    "__docId__": 348,
    "kind": "function",
    "name": "netHash",
    "memberof": "src/params.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/params.js~netHash",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true
  },
  {
    "__docId__": 349,
    "kind": "variable",
    "name": "APPDATAPATH",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~APPDATAPATH",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{APPDATAPATH}",
    "description": null,
    "lineNumber": 31,
    "undocument": true
  },
  {
    "__docId__": 350,
    "kind": "variable",
    "name": "walletPath",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~walletPath",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{walletPath}",
    "description": null,
    "lineNumber": 49,
    "undocument": true
  },
  {
    "__docId__": 351,
    "kind": "variable",
    "name": "mainNethash",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~mainNethash",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{mainNethash}",
    "description": null,
    "lineNumber": 50,
    "undocument": true
  },
  {
    "__docId__": 352,
    "kind": "function",
    "name": "subnetHash",
    "memberof": "src/params.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/params.js~subnetHash",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": null,
    "description": "returns the hash for a subnet, prefixed with mainNethash",
    "lineNumber": 55
  },
  {
    "__docId__": 353,
    "kind": "variable",
    "name": "testNethash",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~testNethash",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{testNethash}",
    "description": null,
    "lineNumber": 60,
    "undocument": true
  },
  {
    "__docId__": 354,
    "kind": "variable",
    "name": "netPrefix",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~netPrefix",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{netPrefix}",
    "description": null,
    "lineNumber": 62,
    "undocument": true
  },
  {
    "__docId__": 355,
    "kind": "variable",
    "name": "signalServers",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~signalServers",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{signalServers}",
    "description": null,
    "lineNumber": 63,
    "undocument": true
  },
  {
    "__docId__": 356,
    "kind": "variable",
    "name": "netKeys",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~netKeys",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{netKeys}",
    "description": null,
    "lineNumber": 72,
    "undocument": true
  },
  {
    "__docId__": 357,
    "kind": "variable",
    "name": "netKey",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~netKey",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{netKey}",
    "description": null,
    "lineNumber": 81,
    "undocument": true
  },
  {
    "__docId__": 358,
    "kind": "variable",
    "name": "networkPath",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~networkPath",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{networkPath}",
    "description": null,
    "lineNumber": 82,
    "undocument": true
  },
  {
    "__docId__": 359,
    "kind": "variable",
    "name": "netKeyPath",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~netKeyPath",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{netKeyPath}",
    "description": null,
    "lineNumber": 83,
    "undocument": true
  },
  {
    "__docId__": 360,
    "kind": "variable",
    "name": "localCurrent",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~localCurrent",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{localCurrent}",
    "description": null,
    "lineNumber": 84,
    "undocument": true
  },
  {
    "__docId__": 361,
    "kind": "variable",
    "name": "localIndex",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~localIndex",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{localIndex}",
    "description": null,
    "lineNumber": 85,
    "undocument": true
  },
  {
    "__docId__": 362,
    "kind": "variable",
    "name": "localDAGAddress",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~localDAGAddress",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{localDAGAddress}",
    "description": null,
    "lineNumber": 86,
    "undocument": true
  },
  {
    "__docId__": 363,
    "kind": "variable",
    "name": "seed",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~seed",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{seed}",
    "description": null,
    "lineNumber": 91,
    "undocument": true
  },
  {
    "__docId__": 364,
    "kind": "variable",
    "name": "seeds",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~seeds",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{seeds}",
    "description": null,
    "lineNumber": 92,
    "undocument": true
  },
  {
    "__docId__": 365,
    "kind": "variable",
    "name": "configPath",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~configPath",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{configPath}",
    "description": null,
    "lineNumber": 93,
    "undocument": true
  },
  {
    "__docId__": 366,
    "kind": "variable",
    "name": "reward",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~reward",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{reward}",
    "description": null,
    "lineNumber": 94,
    "undocument": true
  },
  {
    "__docId__": 367,
    "kind": "variable",
    "name": "consensusSubsidyInterval",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~consensusSubsidyInterval",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{consensusSubsidyInterval}",
    "description": null,
    "lineNumber": 95,
    "undocument": true
  },
  {
    "__docId__": 368,
    "kind": "variable",
    "name": "consensusSubsidyPercentage",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~consensusSubsidyPercentage",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{consensusSubsidyPercentage}",
    "description": null,
    "lineNumber": 96,
    "undocument": true
  },
  {
    "__docId__": 369,
    "kind": "variable",
    "name": "genesisCID",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~genesisCID",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{genesisCID}",
    "description": null,
    "lineNumber": 97,
    "undocument": true
  },
  {
    "__docId__": 370,
    "kind": "variable",
    "name": "GENESISBS58",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~GENESISBS58",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{GENESISBS58}",
    "description": null,
    "lineNumber": 99,
    "undocument": true
  },
  {
    "__docId__": 371,
    "kind": "variable",
    "name": "GENESISBLOCK",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~GENESISBLOCK",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{GENESISBLOCK}",
    "description": null,
    "lineNumber": 100,
    "undocument": true
  },
  {
    "__docId__": 372,
    "kind": "function",
    "name": "localDAGMultiaddress",
    "memberof": "src/params.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/params.js~localDAGMultiaddress",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{localDAGMultiaddress}",
    "description": null,
    "lineNumber": 105,
    "undocument": true
  },
  {
    "__docId__": 373,
    "kind": "variable",
    "name": "checkpoints",
    "memberof": "src/params.js",
    "static": true,
    "longname": "src/params.js~checkpoints",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/params.js",
    "importStyle": "{checkpoints}",
    "description": null,
    "lineNumber": 114,
    "undocument": true
  },
  {
    "__docId__": 374,
    "kind": "file",
    "name": "src/server/core-requests.js",
    "content": "import { read } from 'crypto-io-fs';\r\nimport params from '../params';\r\nimport bus from '../lib/bus';\r\nimport Miner from '../lib/miner';\r\nconst { configPath } = params;\r\nclass CoreRequestError {\r\n  constructor(message) {\r\n    throw `core-requests-error::${message}`;\r\n  }\r\n}\r\n\r\nconst readForResponse = (path, format) => new Promise(async (resolve, reject) => {\r\n  const response = {};\r\n  try {\r\n    response.data = await read(path, format);\r\n    response.status = 200;\r\n  } catch (error) {\r\n    response.status(409).send(error)\r\n  }\r\n  resolve(response);\r\n});\r\n\r\nconst writeForResponse = (path, data) => new Promise(async (resolve, reject) => {\r\n  const response = {};\r\n  try {\r\n    await write(path, JSON.stringify(data));\r\n    response.status = 200;\r\n  } catch (error) {\r\n    response.status(409).send(error)\r\n  }\r\n  resolve(response);\r\n});\r\n\r\nconst miners = [];\r\n\r\nconst handleMinerRequest = async ({name, params}) => {\r\n  const response = {status: 409, data: null};\r\n\r\n  try {\r\n    switch (name) {\r\n      case 'config':\r\n        response.data = await read(configPath, 'json');\r\n        response.data = response.data.miner;\n        console.log(response.data);\r\n        response.status = 200;\r\n        break;\r\n      case 'mine':\r\n        const { address, intensity } = params;\r\n        const addMiner = count => {\r\n          for (var i = 0; i < count; i++) {\r\n            miners.push(new Miner(address));\r\n          }\r\n        }\r\n        if (!intensity) {\r\n          intensity = 1;\r\n        }\r\n        if (!address) return console.warn('address undefined');\r\n        if (params.mining) {\r\n          if (miners.length > 0 && miners.length === intensity) {\r\n            miners.forEach(miner => {\r\n              miner.address = address;\r\n            });\r\n          } else if (miners.length > intensity) {\r\n            const removeCount = miners.length - intensity\r\n            miners.slice(0, removeCount);\r\n          } else if (miners.length < intensity && miners.length > 0) {\r\n            const addCount = intensity - miners.length;\r\n            addMiner(addCount);\r\n          } else {\r\n            addMiner(intensity);\r\n          }\r\n\r\n          if (!miners.mining) {\r\n            miners.forEach(miner => {\r\n              miner.start();\r\n            });\r\n            miners.mining = true;\r\n            global.states.mining = true\r\n            bus.emit('mining', true);\r\n          }\r\n        } else {\r\n          miners.forEach(miner => {\r\n            miner.stop();\r\n          });\r\n          miners.mining = false;\r\n          global.states.mining = false\r\n          bus.emit('mining', false);\r\n        }\r\n        break;\r\n      case 'address':\r\n        if (set) {\r\n          response = await readForResponse(configPath, 'json');\r\n          if (response.data.miner.address !== address) {\r\n            response.data.miner.address = address;\r\n            response = await writeForResponse(configPath, response.data);\r\n          }\r\n        } else if (get) {\r\n          response = await readForResponse(params.configPath, 'json');\r\n          response.data = response.data.miner.address;\r\n        } else {\r\n          response.status(409).send('set or get wanted for @miner/address');\r\n        }\r\n        break;\r\n    }\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nconst handleStatusRequest = async ({name, params}) => {\r\n  const response = {status: 409, data: null};\r\n  // get state from the global states object\r\n  const state = global.states[name];\r\n  if (typeof state === 'boolean') {\r\n    response.data = state;\r\n    response.status = 200;\r\n  }\r\n  return response;\r\n}\n\nconst handleBlockRequest = async ({name, params}) => {\n  const response = {status: 409, data: null};\n  // get state from the global states object\n  switch (name) {\n    case 'get':\n\n      break;\n    default:\n\n  }\n  if (typeof state === 'boolean') {\n    response.data = state;\n    response.status = 200;\n  }\n  return response;\n}\r\n\r\nexport default async ({type, name, params}) => {\r\n  switch (type) {\r\n    case 'miner':\r\n      return handleMinerRequest({name, params});\r\n      break;\r\n    case 'status':\r\n      return handleStatusRequest({name, params});\r\n      break;\n      case 'chain':\n      return handleBlockRequest({name, params});\n    break;\r\n  }\r\n}\r\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/server/core-requests.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 375,
    "kind": "variable",
    "name": "configPath",
    "memberof": "src/server/core-requests.js",
    "static": true,
    "longname": "src/server/core-requests.js~configPath",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/server/core-requests.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true
  },
  {
    "__docId__": 376,
    "kind": "class",
    "name": "CoreRequestError",
    "memberof": "src/server/core-requests.js",
    "static": true,
    "longname": "src/server/core-requests.js~CoreRequestError",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/server/core-requests.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 377,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/server/core-requests.js~CoreRequestError",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/server/core-requests.js~CoreRequestError#constructor",
    "access": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 378,
    "kind": "function",
    "name": "readForResponse",
    "memberof": "src/server/core-requests.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/core-requests.js~readForResponse",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/server/core-requests.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true
  },
  {
    "__docId__": 379,
    "kind": "function",
    "name": "writeForResponse",
    "memberof": "src/server/core-requests.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/core-requests.js~writeForResponse",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/server/core-requests.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true
  },
  {
    "__docId__": 380,
    "kind": "variable",
    "name": "miners",
    "memberof": "src/server/core-requests.js",
    "static": true,
    "longname": "src/server/core-requests.js~miners",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/server/core-requests.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 34,
    "undocument": true
  },
  {
    "__docId__": 381,
    "kind": "function",
    "name": "handleMinerRequest",
    "memberof": "src/server/core-requests.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/server/core-requests.js~handleMinerRequest",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/server/core-requests.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true
  },
  {
    "__docId__": 382,
    "kind": "function",
    "name": "handleStatusRequest",
    "memberof": "src/server/core-requests.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/server/core-requests.js~handleStatusRequest",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/server/core-requests.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 111,
    "undocument": true
  },
  {
    "__docId__": 383,
    "kind": "function",
    "name": "handleBlockRequest",
    "memberof": "src/server/core-requests.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/server/core-requests.js~handleBlockRequest",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/server/core-requests.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 122,
    "undocument": true
  },
  {
    "__docId__": 384,
    "kind": "function",
    "name": "corerequests",
    "memberof": "src/server/core-requests.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/server/core-requests.js~corerequests",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/server/core-requests.js",
    "importStyle": "corerequests",
    "description": null,
    "lineNumber": 139,
    "undocument": true
  },
  {
    "__docId__": 385,
    "kind": "file",
    "name": "src/server/index.js",
    "content": "import express from 'express';\nimport cors from 'cors';\nimport { Server, createServer } from 'http';\nimport { read } from 'crypto-io-fs';\nimport { encrypt, decrypt } from 'crypto-io-utils';\nimport params from './../params';\nimport wallet from './routes/wallet';\nimport socketServer from './socket-server';\nimport { chain } from '../lib/dagchain/dagchain-interface';\nimport './new-socket-server';\n// internal server for communicating with system fs\nconst core = express();\nconst server = Server(core);\n// socket event server\nsocketServer(server);\n\ncore.use(cors({\n\torigin: 'http://127.0.0.1:2050'\n}));\n\n// setup routes\ncore.use(wallet);\n\ncore.get('/core/chain', (request, response) => {\n\tresponse.status(200).send(JSON.stringify(chain));\n});\n\nserver.listen(5005, console.log('listening on 5005'));\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/server/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 386,
    "kind": "variable",
    "name": "core",
    "memberof": "src/server/index.js",
    "static": true,
    "longname": "src/server/index.js~core",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/server/index.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true
  },
  {
    "__docId__": 387,
    "kind": "variable",
    "name": "server",
    "memberof": "src/server/index.js",
    "static": true,
    "longname": "src/server/index.js~server",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/server/index.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true
  },
  {
    "__docId__": 388,
    "kind": "file",
    "name": "src/server/new-socket-server.js",
    "content": "import { server } from 'socket-request';\nimport { read, write } from 'crypto-io-fs';\nimport { APPDATAPATH, network } from '../params';\nimport { join } from 'path';\nimport { buildTransaction } from '../lib/transaction';\nimport { addTransaction, mempool } from '../lib/dagchain/dagchain-interface';\nimport { loadWallet, generateWallet, discoverAccounts } from '../lib/wallet-utils';\nimport MultiWallet from 'multi-wallet';\nimport bus from './../lib/bus';\n\nlet wallet;\n\nconst api = server({port: 6000}, {\n\tsend: async ({from, to, amount, message}, response) => {\n\t\t// console.log(params);\n    // TODO: validate transaction\n\t\ttry {\n      const multiWIF = await read(join(APPDATAPATH, 'wallet.dat'), 'string');\n      const wallet = new MultiWallet(network);\n      wallet.import(multiWIF)\n      // account ...\n      const account = wallet.derive('m/0\\'/0/0');\n      const tx = buildTransaction(account, to, parseInt(amount))\n      mempool.push(tx);\n    } catch (e) {\n      console.log(e);\n    }\n\t},\n  accounts: async (params, response) => {\n    let accounts;\n    try {\n      if (!wallet) wallet = await loadWallet();\n\n      accounts = await discoverAccounts(wallet);\n      accounts = accounts.map(account => account.address);\n      response.send(accounts, 200);\n    } catch (e) {\n      console.log(e);\n      if (e.code === 'ENOENT') {\n        const wallet = await generateWallet();\n        const account = wallet.derive(`m/0\\'/0/0`)\n        response.send({\n            mnemonic: wallet.mnemonic,\n            accounts: [account]\n        }, 201)\n      }\n    }\n  }\n});\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/server/new-socket-server.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 389,
    "kind": "variable",
    "name": "api",
    "memberof": "src/server/new-socket-server.js",
    "static": true,
    "longname": "src/server/new-socket-server.js~api",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/server/new-socket-server.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true
  },
  {
    "__docId__": 390,
    "kind": "file",
    "name": "src/server/routes/wallet.js",
    "content": "import { Router } from 'express';\r\nimport { join } from 'path';\r\nimport { homedir } from 'os';\nimport MultiWallet from 'multi-wallet';\r\nimport { read, write } from 'crypto-io-fs';\r\nimport { CryptoWallet } from '../../lib/wallet';\r\nimport { getBalanceForAddress } from './../../lib/dagchain/dagchain-interface';\r\nimport { debug } from '../../utils';\nimport { APPDATAPATH, network } from '../../params';\r\n\r\nconst router = Router();\n\nconst loadWallet = async () => {\n  const saved = await read(join(APPDATAPATH, 'wallet.dat'), 'string');\n  const wallet = new MultiWallet(network);\n  console.log(saved, network);\n  wallet.import(saved);\n  return wallet;\n}\n\r\n// TODO: encrypt/decrypt\r\nrouter.get('/core/new-wallet', async (request, response) => {\r\n  try {\r\n    await read(join(APPDATAPATH, 'wallet.dat'));\r\n    return response.status(302).send('Already Exists')\r\n  } catch (error) {\r\n    debug('No wallet found, making new wallet.')\r\n    const name = request.query.name || 'main';\r\n    const wallet = new CryptoWallet();\r\n    wallet.new();\r\n    const addresses = JSON.stringify([[name, wallet.public]]);\r\n    response.status(200).send(addresses);\r\n    await write(join(APPDATAPATH, 'wallet.dat'), JSON.stringify([\r\n      [name, {private: wallet.private, public: wallet.public}]\r\n    ]));\r\n    await write(join(APPDATAPATH, 'addresses.dat'), addresses);\r\n  }\r\n\r\n});\r\n\r\nrouter.get('/core/wallet', async (request, response) => {\r\n  try {\r\n    const wallet = await read(join(APPDATAPATH, 'wallet.dat'), 'string');\r\n    response.status(200).send(wallet)\r\n  } catch (error) {\r\n    if (error.code === 'ENOENT') {\r\n      return response.redirect('/core/new-wallet');\r\n    }\n    console.log(error);\r\n    response.status(409).send(error);\r\n  }\r\n});\r\n\r\nrouter.get('/core/new-address', async (request, response) => {\r\n  const name = request.query.name || 'main';\r\n  const wallet = new CryptoWallet();\r\n  wallet.new();\r\n  const walletAddresses = await read(join(APPDATAPATH, 'wallet.dat'), 'json');\r\n  const addresses = await read(join(APPDATAPATH, 'addresses.dat'), 'json');\r\n  const address = [name, wallet.public];\r\n  addresses.push(address);\r\n  walletAddresses.push([name, {private: wallet.private, public: wallet.public}])\r\n  response.status(200).send(JSON.stringify(address));\r\n  await write(join(APPDATAPATH, 'wallet.dat'), JSON.stringify(walletAddresses));\r\n  await write(join(APPDATAPATH, 'addresses.dat'), JSON.stringify(addresses));\r\n});\r\n\r\nrouter.get('/core/addresses', async (request, response) => {\r\n  try {\n    const wallet = await loadWallet();\n    const account = wallet.derive('m/0\\'/0/0');\r\n    response.status(200).send([['external', account.address]]);\r\n  } catch (error) {\r\n    if (error.code === 'ENOENT') {\r\n      return response.redirect('/core/new-wallet');\r\n    }\r\n    response.status(409).send(error);\r\n  }\r\n});\r\n\r\nrouter.get('/core/getbalance/:address', async (request, response) => {\r\n  try {\r\n    const balance = getBalanceForAddress(request.params.address);\r\n    response.status(200).send(String(balance))\r\n  } catch (error) {\r\n    response.status(409).send(error);\r\n  }\r\n});\r\n\r\nexport default router;\r\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/server/routes/wallet.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 391,
    "kind": "function",
    "name": "loadWallet",
    "memberof": "src/server/routes/wallet.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/server/routes/wallet.js~loadWallet",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/server/routes/wallet.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true
  },
  {
    "__docId__": 392,
    "kind": "variable",
    "name": "router",
    "memberof": "src/server/routes/wallet.js",
    "static": true,
    "longname": "src/server/routes/wallet.js~router",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/server/routes/wallet.js",
    "importStyle": "router",
    "description": null,
    "lineNumber": 11,
    "undocument": true
  },
  {
    "__docId__": 393,
    "kind": "file",
    "name": "src/server/socket-server.js",
    "content": "import { server as WebSocketServer } from 'websocket';\nimport bus from '../lib/bus';\nimport coreRequests from './core-requests';\n// import http = from 'http';\n\nexport const clientResponse = ({type, name, data}, encoding = 'utf8') => {\n\tdata = {\n\t\tdata,\n\t\tstatus: 200\n\t};\n\tconst response = {\n\t\ttype,\n\t\tname,\n\t\tdata\n\t};\n\tif (encoding === 'utf8') {\n\t\treturn JSON.stringify(response);\n\t}\n\treturn response;\n};\n\nexport class ClientConnection {\n\tconstructor(connection) {\n\t\tthis.connection = connection;\n\n\t\tthis.onMessage = this.onMessage.bind(this);\n\t\tthis.onPeerAdded = this.onPeerAdded.bind(this);\n\t\tthis.onMining = this.onMining.bind(this);\n\t\tthis.onBlockAdded = this.onBlockAdded.bind(this);\n\t\tthis.onHashrate = this.onHashrate.bind(this);\n\t\tthis.onjobCancelled = this.onjobCancelled.bind(this);\n\t\tthis.onConnecting = this.onConnecting.bind(this);\n\t\tthis.onSyncing = this.onSyncing.bind(this);\n\t\tthis.onReady = this.onReady.bind(this);\n\n\t\tthis.connection.on('message', this.onMessage);\n\n\t\tbus.on('peer-added', this.onPeerAdded);\n\t\tbus.on('mining', this.onMining);\n  \tbus.on('block', this.onBlockAdded);\n  \tbus.on('hashrate', this.onHashrate);\n  \tbus.on('job-cancelled', this.onjobCancelled);\n  \tbus.on('connecting', this.onConnecting);\n  \tbus.on('syncing', this.onSyncing);\n\t\tbus.on('ready', this.onReady);\n\n  \tthis.connection.on('close', (reasonCode, description) => {\n\t\t\tbus.removeListener('peer-added', this.onPeerAdded);\n  \t\tbus.removeListener('mining', this.onMining);\n    \tbus.removeListener('block', this.onBlockAdded);\n    \tbus.removeListener('hashrate', this.onHashrate);\n    \tbus.removeListener('job-cancelled', this.onjobCancelled);\n    \tbus.removeListener('connecting', this.onConnecting);\n    \tbus.removeListener('syncing', this.onSyncing);\n  \t\tbus.removeListener('ready', this.onReady);\n  \t\tconsole.log((new Date()) + ' Peer ' + this.connection.remoteAddress + ' disconnected.');\n\t\t\treturn;\n  \t});\n\t}\n\n\tonMessage({type, utf8Data}) {\n\t\tif (type === 'utf8') {\n    \tconst request = JSON.parse(utf8Data.toString());\n\t\t\tcoreRequests(request).then(data => {\n\t\t\t\tconst { name, type } = request;\n\t\t\t\tthis.connection.send(JSON.stringify({name, data, type}));\n\t\t\t});\n\t\t}\n\t}\n\n\tsend({name, data, type}) {\n\t\tthis.connection.send(clientResponse({type, name, data}));\n\t}\n\n\tstateResponse({type = 'status', name, data}) {\n  \tif (data !== global.states[name]) {\n  \t\tglobal.states[name] = data;\n  \t}\n  \treturn this.send({type, name, data});\n\t}\n\n\tonPeerAdded(peer) {\n\t\tthis.send({type: 'network', name: 'peer-added'});\n\t}\n\n\tonMining(data) {\n\t\tthis.stateResponse({name: 'mining', data});\n\t}\n\n\tonBlockAdded(data) {\n  \tthis.send({type: 'blockchain', name: 'block-added', data});\n\t}\n\n\tonHashrate(data) {\n\t\tthis.send({type: 'miner', name: 'hashrate', data});\n\t}\n\n\tonjobCancelled(data) {\n\t\tthis.send({type: 'miner', name: 'job-cancelled', data});\n\t}\n\n\tonConnecting(data) {\n\t\tthis.stateResponse({name: 'connecting', data});\n\t}\n\n\tonSyncing(data) {\n\t\tthis.stateResponse({name: 'syncing', data});\n\t}\n\n\tonReady(data) {\n\t\tthis.stateResponse({name: 'ready', data});\n\t}\n}\n\nexport default httpServer => {\n\tconst socketServer = new WebSocketServer({\n  \thttpServer,\n  \tautoAcceptConnections: false\n\t});\n\n\tconst originIsAllowed = origin => {\n  \t// put logic here to detect whether the specified origin is allowed.\n  \treturn true;\n\t};\n\n\tsocketServer.on('request', request => {\n  \tif (!originIsAllowed(request.origin)) {\n  \t\t// Make sure we only accept requests from an allowed origin\n  \t\trequest.reject();\n  \t\tconsole.log((new Date()) + ' Connection from origin ' + request.origin + ' rejected.');\n  \t\treturn;\n  \t}\n\n  \tconst connection = request.accept('echo-protocol', request.origin);\n  \tconsole.log((new Date()) + ' Connection accepted.');\n\t\treturn new ClientConnection(connection);\n\t});\n\n};\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/server/socket-server.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 394,
    "kind": "function",
    "name": "clientResponse",
    "memberof": "src/server/socket-server.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/socket-server.js~clientResponse",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/server/socket-server.js",
    "importStyle": "{clientResponse}",
    "description": null,
    "lineNumber": 6,
    "undocument": true
  },
  {
    "__docId__": 395,
    "kind": "class",
    "name": "ClientConnection",
    "memberof": "src/server/socket-server.js",
    "static": true,
    "longname": "src/server/socket-server.js~ClientConnection",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/server/socket-server.js",
    "importStyle": "{ClientConnection}",
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 396,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/server/socket-server.js~ClientConnection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/server/socket-server.js~ClientConnection#constructor",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true
  },
  {
    "__docId__": 397,
    "kind": "member",
    "name": "connection",
    "memberof": "src/server/socket-server.js~ClientConnection",
    "static": false,
    "longname": "src/server/socket-server.js~ClientConnection#connection",
    "access": null,
    "description": null,
    "lineNumber": 24,
    "undocument": true
  },
  {
    "__docId__": 407,
    "kind": "method",
    "name": "onMessage",
    "memberof": "src/server/socket-server.js~ClientConnection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/server/socket-server.js~ClientConnection#onMessage",
    "access": null,
    "description": null,
    "lineNumber": 61,
    "undocument": true
  },
  {
    "__docId__": 408,
    "kind": "method",
    "name": "send",
    "memberof": "src/server/socket-server.js~ClientConnection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/server/socket-server.js~ClientConnection#send",
    "access": null,
    "description": null,
    "lineNumber": 71,
    "undocument": true
  },
  {
    "__docId__": 409,
    "kind": "method",
    "name": "stateResponse",
    "memberof": "src/server/socket-server.js~ClientConnection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/server/socket-server.js~ClientConnection#stateResponse",
    "access": null,
    "description": null,
    "lineNumber": 75,
    "undocument": true
  },
  {
    "__docId__": 410,
    "kind": "method",
    "name": "onPeerAdded",
    "memberof": "src/server/socket-server.js~ClientConnection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/server/socket-server.js~ClientConnection#onPeerAdded",
    "access": null,
    "description": null,
    "lineNumber": 82,
    "undocument": true
  },
  {
    "__docId__": 411,
    "kind": "method",
    "name": "onMining",
    "memberof": "src/server/socket-server.js~ClientConnection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/server/socket-server.js~ClientConnection#onMining",
    "access": null,
    "description": null,
    "lineNumber": 86,
    "undocument": true
  },
  {
    "__docId__": 412,
    "kind": "method",
    "name": "onBlockAdded",
    "memberof": "src/server/socket-server.js~ClientConnection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/server/socket-server.js~ClientConnection#onBlockAdded",
    "access": null,
    "description": null,
    "lineNumber": 90,
    "undocument": true
  },
  {
    "__docId__": 413,
    "kind": "method",
    "name": "onHashrate",
    "memberof": "src/server/socket-server.js~ClientConnection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/server/socket-server.js~ClientConnection#onHashrate",
    "access": null,
    "description": null,
    "lineNumber": 94,
    "undocument": true
  },
  {
    "__docId__": 414,
    "kind": "method",
    "name": "onjobCancelled",
    "memberof": "src/server/socket-server.js~ClientConnection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/server/socket-server.js~ClientConnection#onjobCancelled",
    "access": null,
    "description": null,
    "lineNumber": 98,
    "undocument": true
  },
  {
    "__docId__": 415,
    "kind": "method",
    "name": "onConnecting",
    "memberof": "src/server/socket-server.js~ClientConnection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/server/socket-server.js~ClientConnection#onConnecting",
    "access": null,
    "description": null,
    "lineNumber": 102,
    "undocument": true
  },
  {
    "__docId__": 416,
    "kind": "method",
    "name": "onSyncing",
    "memberof": "src/server/socket-server.js~ClientConnection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/server/socket-server.js~ClientConnection#onSyncing",
    "access": null,
    "description": null,
    "lineNumber": 106,
    "undocument": true
  },
  {
    "__docId__": 417,
    "kind": "method",
    "name": "onReady",
    "memberof": "src/server/socket-server.js~ClientConnection",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/server/socket-server.js~ClientConnection#onReady",
    "access": null,
    "description": null,
    "lineNumber": 110,
    "undocument": true
  },
  {
    "__docId__": 418,
    "kind": "function",
    "name": "socketserver",
    "memberof": "src/server/socket-server.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/server/socket-server.js~socketserver",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/server/socket-server.js",
    "importStyle": "socketserver",
    "description": null,
    "lineNumber": 115,
    "undocument": true
  },
  {
    "__docId__": 419,
    "kind": "file",
    "name": "src/utils.js",
    "content": "'use strict';\r\nimport { read, write } from 'crypto-io-fs';\r\nimport { configPath } from './params';\r\nimport { encode } from 'bs58';\nimport chalk from 'chalk';\nimport { generateWallet, writeWallet } from './lib/wallet-utils';\nimport bus from './lib/bus';\n\nif (process.platform === 'win32') {\n  const readLine = require('readline').createInterface({\n    input: process.stdin,\n    output: process.stdout\n  });\n\n  readLine.on('SIGINT', () => {\n    process.emit('SIGINT');\n  });\n};\n\r\n// hardcode debug param for now\r\nprocess.env.DEBUG = true;\r\nexport const debug = (text) => {\r\n\tif (process.env.DEBUG) {\r\n    const stack = new Error().stack;\r\n    const caller = stack.split('\\n')[2].trim();\n    console.groupCollapsed(chalk.blue(text));\n    console.log(caller)\n    console.groupEnd();\r\n  };\r\n};\n\nexport const log = text => {\n  console.log(chalk.cyan(text));\n}\n\nexport const succes = text => {\n  console.log(chalk.green(text));\n}\n\nexport const fail = text => {\n  console.log(chalk.red(text));\n}\n\nexport const groupCollapsed = (text, cb) => {\n  console.groupCollapsed(chalk.gray.bold(text));\n  cb();\n  console.groupEnd();\n}\r\n/**\r\n * Get hash difficulty\r\n *\r\n * @param hash\r\n * @return {Number}\r\n */\r\nexport const getDifficulty = hash => {\r\n\treturn parseInt(hash.substring(0, 8), 16);\r\n};\r\n\r\nexport const textlog = async text => {\r\n  let content = '';\r\n  try {\r\n    // content = await read('log');\r\n  } catch (e) {\r\n    console.log('creating new log file');\r\n  }\r\n\r\n  content += '\\n';\r\n  content += text;\r\n  return\r\n  // await write('log', content);\r\n};\r\n\r\nexport const timeout = (ms = 1000, cb) => {\r\n\tsetTimeout(() => {\r\n\t\tcb();\r\n\t}, ms);\r\n};\r\n\r\nexport const interval = (cb, ms = 1000) => {\r\n\tsetInterval(() => {\r\n\t\tcb();\r\n\t}, ms);\r\n};\r\n\r\nexport const hashes = nonce => {\r\n\tconst hashrates = [10, 100, 1000, 10000, 100000, 1000000, 1000000000, 1000000000000, 1000000000000000];\r\n\tfor (let i = hashrates.length; i-- > 0;) {\r\n\t\tif (nonce % hashrates[i - 1] === 0) return hashrates[i - 1];\r\n\t}\r\n\treturn hashrates.filter(hashrate => {\r\n\t\tif (nonce % hashrate === 0) return hashrate;\r\n\t});\r\n};\r\n\r\nexport const median = array => {\r\n  array.sort( function(a,b) {return a - b;} );\r\n\r\n  var half = Math.floor(array.length/2);\r\n\r\n  if(array.length % 2)\r\n    return array[half];\r\n  else\r\n    return (array[half-1] + array[half]) / 2.0;\r\n}\r\n\r\nlet previousDate = Date.now();\r\nlet previousMinuteDate = Date.now();\r\nlet hashCount = 0;\r\nlet timeoutRunning = false;\r\nlet rates = []\r\nexport const hashLog = nonce => {\r\n\tif (typeof(hashes(nonce)) === 'number') {\r\n\t\thashCount = hashCount + hashes(nonce);\r\n\t}\r\n  const now = Date.now()\r\n  // if (now - previousMinuteDate >= 60000) {\r\n    // previousMinuteDate = now;\r\n    // const middle = median(rates);\r\n  if (now - previousDate >= 1000) {\r\n    previousDate = now;\r\n    rates[hashCount]\r\n    hashCount = 0;\r\n    return rates;\r\n  }\r\n\r\n\r\n};\r\n\r\nexport const config = {\r\n\tserver: {\r\n\t\tport: 3030,\r\n\t\thost: 'localhost',\r\n\t},\r\n\tp2p: {\r\n\t\tport: 6001,\r\n\t\tpeers: [],\r\n\t},\r\n\treward: 150,\r\n\tpeers: []\r\n};\n\r\nconst defaultConfig = async () => {\n  const wallet = generateWallet();\n  // TODO: prompt for password\n  bus.on('initial-setup', message => {\n    console.log(message);\n  })\n  bus.emit('initial', wallet.mnemonic);\n  await writeWallet(wallet.export());\n  const account = wallet.derive('m/0\\'/0/0');\n\treturn {\n  \tminer: {\n  \t\taddress: account.address,\n  \t\tintensity: 1\n  \t}\n  }\n};\r\n\r\nexport const hexFromMultihash = multihash => {\r\n  return multihash.toString('hex').substring(4);\r\n}\r\n\r\nexport const multihashFromHex = hex => {\r\n  return encode(new Buffer(`1220${hex}`, 'hex'));\r\n}\r\n\r\n// TODO: also check for configfile in the directory where core is run from @AndrewVanardennen\r\n// search for the config file & create new one when needed\r\nexport const getUserConfig = new Promise(resolve => {\r\n\tread(configPath, 'json')\r\n    .then(config => resolve(config))\r\n\t\t.catch(async error => {\r\n\t\t\tif (error.code !== 'ENOENT') {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t}\r\n\t\t\tresolve(await defaultConfig());\r\n\t\t\tdebug('new config file created');\r\n\t\t});\r\n});\n\n/**\n * allow retry upto \"amount\" times\n * @param {number} amount\n */\nexport const allowFailureUntillEnough = (func, amount = 5) => new Promise(async (resolve, reject) => {\n  if (typeof func !== 'function') reject('function undefined');\n  if (typeof amount !== 'number') reject(`Expected amount to be a typeof Number`);\n  let count = 0;\n  for (var i = 0; i < amount; i++) {\n    try {\n      await func();\n      resolve();\n    } catch (error) {\n      if (amount === count) reject(error);\n    }\n  }\n});\r\n",
    "static": true,
    "longname": "D:/Workspace/leofcoin/leofcoin-core/src/utils.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 420,
    "kind": "function",
    "name": "debug",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~debug",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{debug}",
    "description": null,
    "lineNumber": 22,
    "undocument": true
  },
  {
    "__docId__": 421,
    "kind": "function",
    "name": "log",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~log",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{log}",
    "description": null,
    "lineNumber": 32,
    "undocument": true
  },
  {
    "__docId__": 422,
    "kind": "function",
    "name": "succes",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~succes",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{succes}",
    "description": null,
    "lineNumber": 36,
    "undocument": true
  },
  {
    "__docId__": 423,
    "kind": "function",
    "name": "fail",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~fail",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{fail}",
    "description": null,
    "lineNumber": 40,
    "undocument": true
  },
  {
    "__docId__": 424,
    "kind": "function",
    "name": "groupCollapsed",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~groupCollapsed",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{groupCollapsed}",
    "description": null,
    "lineNumber": 44,
    "undocument": true
  },
  {
    "__docId__": 425,
    "kind": "function",
    "name": "getDifficulty",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~getDifficulty",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{getDifficulty}",
    "description": "Get hash difficulty",
    "lineNumber": 55,
    "params": [
      {
        "nullable": null,
        "types": [
          "*"
        ],
        "spread": false,
        "optional": false,
        "name": "hash",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Number"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 426,
    "kind": "function",
    "name": "textlog",
    "memberof": "src/utils.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/utils.js~textlog",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{textlog}",
    "description": null,
    "lineNumber": 59,
    "undocument": true
  },
  {
    "__docId__": 427,
    "kind": "function",
    "name": "timeout",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~timeout",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{timeout}",
    "description": null,
    "lineNumber": 73,
    "undocument": true
  },
  {
    "__docId__": 428,
    "kind": "function",
    "name": "interval",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~interval",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{interval}",
    "description": null,
    "lineNumber": 79,
    "undocument": true
  },
  {
    "__docId__": 429,
    "kind": "function",
    "name": "hashes",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~hashes",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{hashes}",
    "description": null,
    "lineNumber": 85,
    "undocument": true
  },
  {
    "__docId__": 430,
    "kind": "function",
    "name": "median",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~median",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{median}",
    "description": null,
    "lineNumber": 95,
    "undocument": true
  },
  {
    "__docId__": 431,
    "kind": "variable",
    "name": "previousDate",
    "memberof": "src/utils.js",
    "static": true,
    "longname": "src/utils.js~previousDate",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 106,
    "undocument": true
  },
  {
    "__docId__": 432,
    "kind": "variable",
    "name": "previousMinuteDate",
    "memberof": "src/utils.js",
    "static": true,
    "longname": "src/utils.js~previousMinuteDate",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 107,
    "undocument": true
  },
  {
    "__docId__": 433,
    "kind": "variable",
    "name": "hashCount",
    "memberof": "src/utils.js",
    "static": true,
    "longname": "src/utils.js~hashCount",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 108,
    "undocument": true
  },
  {
    "__docId__": 434,
    "kind": "variable",
    "name": "timeoutRunning",
    "memberof": "src/utils.js",
    "static": true,
    "longname": "src/utils.js~timeoutRunning",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 109,
    "undocument": true
  },
  {
    "__docId__": 435,
    "kind": "variable",
    "name": "rates",
    "memberof": "src/utils.js",
    "static": true,
    "longname": "src/utils.js~rates",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 110,
    "undocument": true
  },
  {
    "__docId__": 436,
    "kind": "function",
    "name": "hashLog",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~hashLog",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{hashLog}",
    "description": null,
    "lineNumber": 111,
    "undocument": true
  },
  {
    "__docId__": 437,
    "kind": "variable",
    "name": "config",
    "memberof": "src/utils.js",
    "static": true,
    "longname": "src/utils.js~config",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{config}",
    "description": null,
    "lineNumber": 129,
    "undocument": true
  },
  {
    "__docId__": 438,
    "kind": "function",
    "name": "defaultConfig",
    "memberof": "src/utils.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/utils.js~defaultConfig",
    "access": null,
    "export": false,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 142,
    "undocument": true
  },
  {
    "__docId__": 439,
    "kind": "function",
    "name": "hexFromMultihash",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~hexFromMultihash",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{hexFromMultihash}",
    "description": null,
    "lineNumber": 159,
    "undocument": true
  },
  {
    "__docId__": 440,
    "kind": "function",
    "name": "multihashFromHex",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~multihashFromHex",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{multihashFromHex}",
    "description": null,
    "lineNumber": 163,
    "undocument": true
  },
  {
    "__docId__": 441,
    "kind": "variable",
    "name": "getUserConfig",
    "memberof": "src/utils.js",
    "static": true,
    "longname": "src/utils.js~getUserConfig",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{getUserConfig}",
    "description": null,
    "lineNumber": 169,
    "undocument": true
  },
  {
    "__docId__": 442,
    "kind": "function",
    "name": "allowFailureUntillEnough",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~allowFailureUntillEnough",
    "access": null,
    "export": true,
    "importPath": "leofcoin-core/src/utils.js",
    "importStyle": "{allowFailureUntillEnough}",
    "description": "allow retry upto \"amount\" times",
    "lineNumber": 185,
    "params": [
      {
        "nullable": null,
        "types": [
          "number"
        ],
        "spread": false,
        "optional": false,
        "name": "amount",
        "description": ""
      }
    ]
  },
  {
    "kind": "index",
    "content": "# leofcoin-core\r\n> A Javascript based blockchain\r\n\r\n## Introduction\r\nEasy to use library containing our blockchain & some other handy dandy.\r\n\r\n## Features \r\n- Fast block times 10 seconds or faster when network is under load (more info soon)\r\n- DynamicSeedNodes so everyone can run a \"masternode\" (less payout then static node) (wip, LIP)\r\n- Fast Sync (Get started \"almost\" in an instant) (dagchain)\r\n- DDOS proof services\r\n\r\n## Info\r\nHardcoded to the Olivia (testnet) network untill further notice or even offial release.\r\n\r\n## How does it work\r\n- starts daemon\r\n- gui waits 15 seconds for peer connections before continueing when none found\r\n- searches the longest chain and starts syncing using the chain.links names (block hashes)\r\n\r\n## Developers\r\n### Starting core in devmode\r\nNever wait for builds again,\r\ninstall @std (local or global)\r\nthen run \r\n```sh\r\nnpm run dev\r\n```\r\n### Packaging core for browser\r\nWhen using core in the browser we need to package it with browserify, \r\nthis will give us a file containing our code with all the dependencies inline.\r\n\r\n#### Trigger build & package nodes for browser.\r\n```sh\r\nnpm run package\r\n```\r\nyou can also package modules manually\r\n```sh\r\nbrowserify lib/wallet.js --standalone CryptoWallet > lib/browser/wallet.js\r\n```\r\n\r\n*** Note that some packages require extra steps for when a user want to run local without a web server, this is accomplished by inserting the code in a html script tag. ***\r\n\r\n### Building core for node\r\n```sh\r\nnpm run build\r\n```\r\n\r\n### Serving\r\n```sh\r\nnpm run start\r\n```\r\n\r\n## TODO\r\n- ~~Miner support~~\r\n- ~~Wallet support~~\r\n- Send / Receive transactions\r\n- Explorer\r\n- Pool mining\r\n- Settings\r\n- GPU mining support\r\n- Multi wallet support\r\n- HD addresses\r\n- Ignore masterseed when its offline (the peer bootstrap contains default and reputationed* peer addresses)\r\n\r\n\r\n\\*reputationed: Peers are sorted by their reputation (time online, blockshares, bandwidth, etc)\r\n\r\n\r\n## Projects using leofcoin-core\r\n\r\n#### Community\r\n-\r\n\r\n#### crypto-io\r\nProjects made by crypto-io, contains wallet, paperWallet, miner etc\r\n\r\n- crypto-paper-Wallet\r\n- crypto-wallet\r\n\r\n## License\r\n\r\nMIT © [Leofcoin](https://github.com/leofcoin)\r\n",
    "longname": "D:\\Workspace\\leofcoin\\leofcoin-core\\README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\n  \"name\": \"leofcoin-core\",\n  \"version\": \"0.1.0-alpha.6\",\n  \"description\": \"leofcoin core library\",\n  \"repository\": \"https://github.com/leofcoin-io/leofcoin-core\",\n  \"author\": \"Glenn Vandeuren <vandeurenglenn@gmail.com>\",\n  \"main\": \"index.js\",\n  \"license\": \"MIT\",\n  \"private\": false,\n  \"bin\": {\n    \"core\": \"bin/cli.js\"\n  },\n  \"scripts\": {\n    \"build\": \"rollup -c\",\n    \"start\": \"node dist/commonjs/core.js --network olivia\",\n    \"test\": \"node test/index.js\",\n    \"watch\": \"rollup -c -w\",\n    \"dev\": \"npm-run-all --parallel start watch\"\n  },\n  \"esdoc\": {\n    \"source\": \"./src\",\n    \"destination\": \"./docs\",\n    \"plugins\": [\n      {\n        \"name\": \"esdoc-ecmascript-proposal-plugin\",\n        \"option\": {\n          \"classProperties\": true,\n          \"objectRestSpread\": true,\n          \"doExpressions\": true,\n          \"functionBind\": true,\n          \"functionSent\": true,\n          \"asyncGenerators\": true,\n          \"decorators\": true,\n          \"exportExtensions\": true,\n          \"dynamicImport\": true\n        }\n      }\n    ]\n  },\n  \"dependencies\": {\n    \"big-integer\": \"^1.6.28\",\n    \"bip39\": \"^2.5.0\",\n    \"bitcoinjs-lib\": \"^3.3.2\",\n    \"bs58\": \"^4.0.1\",\n    \"cors\": \"^2.8.4\",\n    \"crypto-chain-validator\": \"^0.1.0\",\n    \"crypto-ecdh\": \"^0.2.2\",\n    \"crypto-io-fs\": \"^0.1.2\",\n    \"crypto-io-utils\": \"0.1.2\",\n    \"crypto-store\": \"^0.1.0-alpha\",\n    \"ecdsa\": \"^0.7.0\",\n    \"express\": \"^4.16.3\",\n    \"fs-ext\": \"^1.0.0\",\n    \"go-ipfs-dep\": \"^0.4.14\",\n    \"ip-monitor\": \"^0.1.2\",\n    \"ipfsd-node\": \"^0.1.2\",\n    \"ipld-dag-pb\": \"^0.11.4\",\n    \"leofcoin-hash\": \"^0.1.0\",\n    \"multi-signature\": \"^0.1.0\",\n    \"multi-wallet\": \"^0.1.1\",\n    \"normalize-newline\": \"^3.0.0\",\n    \"randombytes\": \"^2.0.6\",\n    \"secp256k1\": \"^3.4.0\",\n    \"socket-request\": \"^0.1.2\",\n    \"websocket\": \"^1.0.25\",\n    \"wif\": \"^2.0.6\"\n  },\n  \"devDependencies\": {\n    \"esdoc\": \"^1.1.0\",\n    \"esdoc-ecmascript-proposal-plugin\": \"^1.0.0\",\n    \"eslint\": \"^4.17.0\",\n    \"npm-run-all\": \"^4.1.2\",\n    \"rollup\": \"^0.57.1\",\n    \"rollup-plugin-commonjs\": \"^8.2.6\",\n    \"rollup-plugin-node-builtins\": \"^2.1.2\",\n    \"rollup-plugin-node-resolve\": \"^3.0.2\",\n    \"rollup-plugin-uglify\": \"^3.0.0\",\n    \"tape\": \"^4.8.0\"\n  }\n}\n",
    "longname": "D:\\Workspace\\leofcoin\\leofcoin-core\\package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  }
]